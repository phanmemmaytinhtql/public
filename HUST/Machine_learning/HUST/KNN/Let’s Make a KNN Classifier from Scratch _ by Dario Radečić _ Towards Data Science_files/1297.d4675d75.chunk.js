(self.webpackChunklite=self.webpackChunklite||[]).push([[1297],{59116:(e,t,n)=>{"use strict";n.d(t,{Te:()=>r,_M:()=>o,ed:()=>i});var r=function(e){if(!e)return!1;var t=e.graphQLErrors;return!!t&&!!t.find((function(e){return 2===e.type&&1===e.path.length}))},o=function(e){if(!e)return!1;var t=e.graphQLErrors;return!!t&&!!t.find((function(e){var t;return"RESPONSE_LOCKED"===(null===(t=e.extensions)||void 0===t?void 0:t.code)}))},i=function(e){return!(!e||0===e.length||!e.find((function(e){var t;return"TOO_MANY_REQUESTS"===(null===(t=e.extensions)||void 0===t?void 0:t.code)})))}},78067:(e,t,n)=>{"use strict";var r;n.d(t,{r:()=>r}),function(e){e.FULL="web-full",e.INLINE_HOMEPAGE_TOP="web-inline-homepage-top",e.INLINE_POST_RESPONSE="web-inline-post-response",e.INLINE_NEWSLETTER="web-inline-newsletter",e.INLINE_QUOTE_RESPONSES="web-inline-quote-responses"}(r||(r={}))},94132:(e,t,n)=>{"use strict";n.d(t,{T:()=>v});var r=n(59713),o=n.n(r),i=n(67294),a=n(60046),l=n(82418),s=n(97145),c=n(7530),u=n(64504),d=n(28309),p=n(67297),m=n(67122),g=n(27952);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=e.authDomain,n=e.productName;return i.createElement(c.xu,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(c.xu,{paddingBottom:"8px"},i.createElement(c.rU,{href:(0,g.GMb)(t,n)},i.createElement(u.X6,{scale:"S"},"Share your thinking."))),i.createElement(u.F,{scale:"M"},"If you have a story to tell, knowledge to share, or a perspective to offer — welcome home. It’s easy and free to post your thinking on any topic."," ",i.createElement(c.rU,{href:(0,g.GMb)(t,n),inline:!0,linkStyle:"OBVIOUS"},"Write on ",n)))},v=function(e){var t=e.slimFooter,n=(0,p.v)((function(e){return e.config.authDomain})),r=(0,p.v)((function(e){return e.config.productName})),o=(0,d.Fg)(),f=h(h({},o),{},{baseColor:h(h({},o.baseColor),{},{background:{light:m.Uy(.76),normal:m.Uy(.84),dark:m.Uy(.9)},border:{lighter:m.l9(.1),light:m.l9(.2),normal:m.l9(.34),dark:m.l9(.54),darker:m.l9(.84)},fill:{lighter:m.l9(.7),light:m.l9(.8),normal:m.l9(.98),dark:m.l9(.99),darker:m.l9(1)},text:{lighter:m.l9(.7),light:m.l9(.8),normal:m.l9(.98),dark:m.l9(.99),darker:m.l9(1)}})});return i.createElement(c.f6,{theme:f},i.createElement(c.xu,{backgroundColor:"BASE_DARK",padding:"".concat(t?"32px":"60px"," 0"),sm:{padding:"32px 0"}},i.createElement(c.Pm,null,t?null:i.createElement(c.xu,{borderBottom:"BASE_DARK",display:"flex",justifyContent:"space-between",marginBottom:"32px",paddingBottom:"48px",sm:{display:"none"}},i.createElement(c.xu,{display:"flex",justifyContent:"space-between",margin:"0 -12px"},i.createElement(c.xu,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(c.xu,{paddingBottom:"8px"},i.createElement(c.rU,{href:(0,g.jQk)({authDomain:n,autoplay:!0})},i.createElement(u.X6,{scale:"S"},"Learn more."))),i.createElement(u.F,{scale:"M"},r," is an open platform where 170 million readers come to find insightful and dynamic thinking. Here, expert and undiscovered voices alike dive into the heart of any topic and bring new ideas to the surface."," ",i.createElement(c.rU,{href:(0,g.jQk)({authDomain:n,autoplay:!0}),inline:!0,linkStyle:"OBVIOUS"},"Learn more"))),i.createElement(c.xu,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(c.xu,{paddingBottom:"8px"},i.createElement(c.rU,{href:(0,g.a4F)(n)},i.createElement(u.X6,{scale:"S"},"Make ",r," yours."))),i.createElement(u.F,{scale:"M"},"Follow the writers, publications, and topics that matter to you, and you’ll see them on your homepage and in your inbox."," ",i.createElement(c.rU,{href:(0,g.a4F)(n),inline:!0,linkStyle:"OBVIOUS"},"Explore"))),i.createElement(E,{authDomain:n,productName:r}))),i.createElement(c.xu,{display:"flex",flexDirection:"column"},i.createElement(c.xu,{alignItems:"center",display:"flex",justifyContent:"space-between"},i.createElement(c.rU,{href:"https://".concat(n,"/"),ariaLabel:"Go to homepage"},i.createElement(a.Rv,{fill:m.ix})),i.createElement(c.xu,{display:"flex",justifyContent:"space-between",paddingTop:"8px",width:"200px",sm:{display:"flex",width:"140px"}},i.createElement(u.F,{color:"DARKER",scale:"L"},i.createElement(c.rU,{href:(0,g.jQk)({authDomain:n}),inline:!0},"About")),i.createElement(u.F,{color:"DARKER",scale:"L"},i.createElement(c.rU,{href:(0,g.XpN)(),inline:!0},"Help")),i.createElement(u.F,{color:"DARKER",scale:"L"},i.createElement(c.rU,{href:(0,g.xBX)(),inline:!0},"Legal")))),i.createElement(i.Fragment,null,i.createElement(c.xu,{display:"none",sm:{display:"flex",marginBottom:"16px",marginTop:"30px"}},i.createElement(u.F,{color:"LIGHTER",scale:"L"},"Get the Medium app")),i.createElement(c.xu,{display:"none",sm:{display:"flex",flexDirection:"row",marginBottom:"16px",width:"100%"}},i.createElement(c.xu,{marginRight:"16px"},i.createElement(s.E,{entryPoint:"postPageFooter"})),i.createElement(c.xu,null,i.createElement(l.H,{entryPoint:"postPageFooter"}))))))))}},9471:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var r=n(87757),o=n.n(r),i=n(48926),a=n.n(i),l=n(67294),s=n(12291),c=n(59116),u=n(78067),d=n(14267),p=n(54260),m=n(30049),g=n(319),f=n.n(g),h=n(59713),E=n.n(h),v=n(28655),y=n.n(v),b=n(71439),x=n(80439),S=n(43522),P=n(58992);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(){var e=y()(["\n  mutation publishPostThreadedResponse(\n    $inResponseToPostId: ID!\n    $deltas: [Delta!]!\n    $inResponseToQuoteId: ID\n    $responseDistribution: ResponseDistributionType\n  ) {\n    publishPostThreadedResponse(\n      inResponseToPostId: $inResponseToPostId\n      deltas: $deltas\n      inResponseToQuoteId: $inResponseToQuoteId\n      responseDistribution: $responseDistribution\n    ) {\n      id\n      ... on Post {\n        ...StoryResponse_threadedStoryResponse_post\n        ...SimpleResponse_threadedSimpleResponse_post\n        ...SimpleResponse_threadedSimpleResponse_defaultPostResponses\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return R=function(){return e},e}var O=(0,b.Ps)(R(),S.D,P.t,S.K),D=function(e){var t=e.children,n=e.parentPostId;return l.createElement(x.mm,{mutation:O,update:function(e,t){var r=function(e,t){if(!t||!e.data)return null;var n=e.data.publishPostThreadedResponse;return w(w({},t),{},{postResponses:{count:t.postResponses.count+1},threadedPostResponses:w(w({},t.threadedPostResponses),{},{posts:[n].concat(f()(t.threadedPostResponses.posts))})})}(t,e.readFragment({id:"Post:".concat(n),fragment:S.K,fragmentName:"SimpleResponse_threadedSimpleResponse_defaultPostResponses"}));null!==r&&e.writeFragment({id:"Post:".concat(n),fragment:S.K,fragmentName:"SimpleResponse_threadedSimpleResponse_defaultPostResponses",data:w({},r)})}},(function(e,n){return t({publishResponse:e,loading:n.loading,error:n.error})}))};function T(){var e=y()(["\n  mutation savePostResponse(\n    $inResponseToPostId: ID!\n    $deltas: [Delta!]!\n    $inResponseToQuoteId: ID\n  ) {\n    savePostResponse(\n      inResponseToPostId: $inResponseToPostId\n      deltas: $deltas\n      inResponseToQuoteId: $inResponseToQuoteId\n    ) {\n      ... on Post {\n        id\n      }\n    }\n  }\n"]);return T=function(){return e},e}var k=(0,b.Ps)(T()),_=function(e){var t=e.children;return l.createElement(x.mm,{mutation:k},(function(e){return t({saveResponse:e})}))},A=n(19537),C=n(18608),L=n(64504),B=n(62630),j=n(27572),N=n(28309),U=n(14391),M=n(85277),F=function(e){var t=e.parentPostId,n=e.placeholder,r=e.hideReplyEditing,i=void 0===r?function(){}:r,g=e.editorOpenByDefault,f=void 0===g||g,h=e.showEditorHeader,E=void 0===h||h,v=l.useContext(d.D),y=v.setIsSavingResponse,b=v.responsesLocked,x=v.inResponseToQuote,S=v.setInResponseToQuote,P=v.responseDistribution,I=v.setResponseDistribution,w=v.rootPostId,R=l.useContext(p.H),O=R.showThreadedResponses,T=R.isThreadedResponsesQueryLoading,k=R.threadDepthFromRootPost,F=function(){P===U.Et.DISTRIBUTED?I(U.Et.NOT_DISTRIBUTED):I(U.Et.DISTRIBUTED)},H=(0,j.pK)(),W=(0,B.Av)(),V=(0,s.I0)(),z=(0,N.Iq)(),G=l.useRef(null);l.useEffect((function(){var e;null!=G&&null!==(e=G.current)&&void 0!==e&&e.getBoundingClientRect&&G.current.getBoundingClientRect().bottom>window.innerHeight&&G.current.scrollIntoView({behavior:"smooth",block:"end"})}),[]);var Q=function(e){return function(){var n=a()(o().mark((function n(r,i){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e({variables:{inResponseToPostId:t,deltas:r,inResponseToQuoteId:null==x?void 0:x.id}});case 2:a=n.sent,i(a.data.savePostResponse.id);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()};return l.createElement(D,{parentPostId:t},(function(e){var r=e.publishResponse,s=e.loading,d=e.error;return(0,c._M)(d)||b?(y(!1),l.createElement(m.R,{message:C.x})):l.createElement(_,null,(function(e){var d,p=e.saveResponse;return l.createElement("div",{ref:G},l.createElement(L.F,{scale:"M",color:"DARKER",tag:"div"},l.createElement("div",{className:z({lineHeight:"24px"})},l.createElement(C.j,{postId:t,isPublishingResponse:s,publishResponse:(d=r,function(e,n){return y(!0),d({variables:{inResponseToPostId:t,deltas:e,inResponseToQuoteId:null==x?void 0:x.id,responseDistribution:P}}).then((function(e){var r=e.data&&e.data.publishPostThreadedResponse,o=(0,c.ed)(e.errors);if(r)return W.event("inlineEditor.publish",{postId:t,context:u.r.INLINE_POST_RESPONSE,source:H}),W.event("response.created",{postId:r.id,parentPostId:t,rootPostId:w,threadDepth:k+1,context:u.r.INLINE_POST_RESPONSE,source:H}),y(!1),O(),P===U.Et.DISTRIBUTED&&(V((0,M.Dx)({message:"",toastStyle:"PUBLISH_RESPONSE",extraParams:{response:r},duration:5e3})),I(U.Et.NOT_DISTRIBUTED)),n();o&&(y(!1),V((0,M.Dx)({message:"You’ve reached the limit for stories that can be published in one day. Please try again tomorrow.",toastStyle:"ERROR"})))}))}),saveResponse:Q(p),type:A.H.create,inResponseToQuote:x,onClose:a()(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(void 0),i(),e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)}))),editorOpenByDefault:f,placeholder:n,showEditorHeader:E,disableReplyButton:T,showPublishCheckbox:!f,responseDistribution:P,toggleResponseDistribution:F}))))}))}))}},30049:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var r=n(67294),o=n(7530),i=n(64504),a=n(27952),l=function(e){var t=e.message||"The author has closed discussion for this story.";return r.createElement(o.xu,{backgroundColor:"BASE_NORMAL",display:"flex",flexDirection:"row",alignItems:"center",padding:"16px"},r.createElement(i.F,{scale:"M",tag:"span",color:"DARKER"},t," ",r.createElement(o.rU,{href:(0,a.VGH)(),target:"_blank",inline:!0,linkStyle:"OBVIOUS"},"Learn more.")))}},19537:(e,t,n)=>{"use strict";var r;n.d(t,{H:()=>r}),function(e){e.edit="EDIT",e.create="CREATE"}(r||(r={}))},18608:(e,t,n)=>{"use strict";n.d(t,{x:()=>q,j:()=>re});var r=n(63038),o=n.n(r),i=n(87757),a=n.n(i),l=n(48926),s=n.n(l),c=n(59713),u=n.n(c),d=n(67294),p=n(84792),m=n(10143),g=n(26600),f=n(25772),h=n(78067),E=n(22470),v=n(54803),y=n(9735),b=n(24548),x=n(42963),S=n(32262),P=n(7530),I=n(28309),w=n(74465),R=n(93394),O=function(e){return{cursor:"pointer",border:0,fill:e.baseColor.fill.light,":hover":{fill:e.baseColor.fill.dark}}},D=function(e){var t=e.isEdit,n=e.saveResponse,r=e.setDraftResponseId,o=(0,I.Iq)(),i="editorPopoverMenu";return d.createElement(P.Bn,null,(function(e){var a=e.isVisible,l=e.toggle,s=e.hide;return d.createElement(P.J2,{ariaId:i,isVisible:a,hide:s,customZIndex:w.ZP.responseSidebarPopover,noArrow:!0,placement:"bottom-end",popoverRenderFn:function(){return d.createElement(S.mX,null,d.createElement(S.Sl,null,d.createElement(P.rU,{onClick:t&&r?r:n,"data-testid":"saveResponseMenuItem"},"Make this response a story")))}},d.createElement(P.rU,{ariaControls:i,ariaExpanded:a?"true":"false",onClick:l,className:o(O),"data-testid":"editorMenu"},d.createElement(R.Z,null)))}))},T=n(19692),k=n(14391),_=n(83024),A=function(e){var t=e.quote,n=(0,I.Iq)();if(!t)return null;var r=(0,_.eu)(t);return r?d.createElement("div",{className:n({boxShadow:"0px 1px 4px rgba(0,0,0,0.04)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"3px",padding:"20px 16px",margin:"10px 14px 0 14px","& mark":{cursor:"text"}})},d.createElement(T.ZP,{paragraph:r,paragraphStyle:k.NJ.P,spaceTop:4,richTextStyle:"STREAM"})):null},C=function(e){var t=e.onFocus,n=e.responseContent,r=e.setResponseContent,o=e.setIsEmpty,i=e.isEditorOpen,a=(0,I.Iq)();return d.createElement("textarea",{placeholder:"What are your thoughts?",value:n,onChange:function(e){var t=e.target.value;o(!t),r(t)},onFocus:t,className:a({width:"100%",padding:"14px",resize:"none",minHeight:i?"100px":"0",height:i?"auto":"47px",fontFamily:"inherit",fontSize:"inherit",lineHeight:"inherit",outline:"0",border:"0"})})},L=n(19537),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeInitialDeltas:!0},n=t.includeInitialDeltas,r=[],o=e.split("\n");return n&&(r=[{type:8,index:0,section:{name:j(),startIndex:0}}]),o.forEach((function(e,t){r.push({type:1,paragraph:{markups:[],name:j(),text:e,type:1},verifySameName:!1,index:t})})),r},j=function(){return Math.round(65535*Math.random()).toString(16).padStart(4,"0")},N=n(86280),U=n(62181),M=n(98281),F=n(42933),H=n(36544),W=function(e){var t=e.isVisible,n=e.hide,r=(0,N.YC)().value;return d.createElement(H.C,null,(function(e){var o=e.mutate;return d.createElement(P.QH,{confirmText:"Resend verification email",hide:n,isVisible:t,isDestructiveAction:!1,onConfirm:function(){o()},showCancelButton:!1,titleText:"Commenting requires a verified email address"},"Click below to send a new verification email to ",null==r?void 0:r.unverifiedEmail,".")}))},V=n(64504),z=n(62630),G=n(27572),Q=n(67297),Y=n(27952),$=n(29035);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q="The author has closed discussion for this story. We are unable to save changes to your response.",X=function(){return{"& button":{border:"none"}}},J="400ms",ee="300ms",te=function(e,t){var n=Z(Z({},t),{},{display:"flex",padding:"0 14px"});return Z(Z({},n),{},e?{transition:"opacity ".concat(J,", max-height ").concat(J),opacity:1,maxHeight:"100px"}:{transition:"opacity ".concat(J,", max-height ").concat(J),opacity:0,maxHeight:0})},ne=function(e){return e?{transition:"min-height ".concat(J),minHeight:"100px"}:{transition:"min-height ".concat(J),minHeight:"15px"}},re=function(e){var t,n=e.postId,r=e.responseId,i=e.createdAt,l=e.isPublishingResponse,c=e.disableReplyButton,u=void 0!==c&&c,S=e.publishResponse,w=e.saveResponse,R=void 0===w?function(){return Promise.resolve()}:w,O=e.type,T=void 0===O?L.H.create:O,_=e.onClose,j=void 0===_?s()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))):_,H=e.inResponseToQuote,K=e.initialValue,q=e.placeholder,re=void 0===q?"What are your thoughts?":q,oe=e.editorOpenByDefault,ie=void 0!==oe&&oe,ae=e.showEditorHeader,le=void 0===ae||ae,se=e.showPublishCheckbox,ce=void 0!==se&&se,ue=e.responseDistribution,de=void 0===ue?k.Et.NOT_DISTRIBUTED:ue,pe=e.toggleResponseDistribution,me=void 0===pe?function(){}:pe,ge=T===L.H.edit,fe=(0,I.Iq)(),he=(0,z.Av)(),Ee=(0,G.pK)(),ve=(0,$.rO)(navigator.userAgent),ye=T===L.H.edit,be=(0,g.c)().value,xe=(0,y.Vz)([y.Fm]),Se=xe.editor,Pe=xe.renderLeaf,Ie=xe.renderElement,we=d.useState(ge||ie),Re=o()(we,2),Oe=Re[0],De=Re[1],Te=d.useState(!0),ke=o()(Te,2),_e=ke[0],Ae=ke[1],Ce=d.useState((t=K)?t.paragraphs.map((function(e){return e.text})).join("\n"):""),Le=o()(Ce,2),Be=Le[0],je=Le[1],Ne=d.useState(void 0),Ue=o()(Ne,2),Me=Ue[0],Fe=Ue[1],He=d.useState(!1),We=o()(He,2),Ve=We[0],ze=We[1],Ge=d.useCallback((function(){return ze(!1)}),[]),Qe=(0,Q.v)((function(e){return e.config.authDomain})),Ye=(0,N.YC)().value,$e=d.useCallback((function(){j().then((function(e){e.preventStateUpdate||(De(!1),ve?je(""):(0,v.oe)(Se))}))}),[De]);if(d.useEffect((function(){H&&De(!0)}),[H]),d.useEffect((function(){Ae(p.Node.string(Se).toString().trim().length<=0)}),[be]),d.useEffect((function(){Oe&&!ve&&(ie||ye||m.F3.blur(Se),setTimeout((function(){return m.F3.focus(Se)}),0))}),[Oe]),Me)return he.event("inlineEditor.expand",{postId:n,context:h.r.INLINE_POST_RESPONSE,source:Ee}),d.createElement(x.Z,{to:(0,Y.d0A)(Qe,Me)});var Ke,Ze,qe=d.createElement(d.Fragment,null,!ce&&d.createElement("div",{className:fe(X)},d.createElement(P.zx,{buttonStyle:"SUBTLE",size:"SMALL",onClick:function(){return $e()}},"Cancel")),d.createElement(P.zx,{buttonStyle:"STRONG",size:"SMALL",disabled:_e||l||p.Node.string(Se)===Be||u,onClick:function(){var e=ve?B(Be,ge?{includeInitialDeltas:!1}:void 0):(0,v.wB)(Se,ge?{includeInitialDeltas:!1}:void 0);null!=Ye&&Ye.unverifiedEmail?ze(!0):S(e,$e)}},ge?"Update":"Respond"));return d.createElement(F.Z,{marginBottom:ie?"0":"20px",padding:ge?"0":"0 24px",paddingTop:ie?"0":"20px"},d.createElement("div",{className:fe({backgroundColor:"white",boxShadow:"0px 2px 8px rgba(0,0,0,0.12)",borderRadius:"4px",display:"flex",flexDirection:"column",paddingTop:Oe?"14px":"0",paddingBottom:Oe?"14px":"0",transition:"padding-top ".concat(J,", padding-bottom ").concat(J)})},Ye&&le&&d.createElement("div",{className:fe((Ke=Oe,Ze={display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",padding:"0 14px"},Z(Z({},Ze),{},Ke?{transition:"opacity ".concat(J,", max-height ").concat(J,", margin-bottom ").concat(J),opacity:1,maxHeight:"100px",marginBottom:"6px"}:{transition:"opacity ".concat(ee,", max-height ").concat(ee,", margin-bottom ").concat(ee),opacity:0,maxHeight:0,marginBottom:"0"})))},d.createElement(F.Z,{display:"flex",alignItems:"center"},d.createElement(M.ZP,{scale:"XS",user:Ye}),d.createElement(F.Z,{marginLeft:"12px",display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},d.createElement(V.F,{scale:"M",color:"DARKER"},Ye.name),ge&&i&&d.createElement(V.F,{scale:"M",color:"LIGHTER"},d.createElement(b.Z,{timestamp:i})))),Oe&&!ce&&d.createElement(F.Z,{display:"flex",justifyContent:"flex-end"},d.createElement(D,{isEdit:ge,setDraftResponseId:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return Fe(r)})),saveResponse:function(){var e=ve?B(Be):(0,v.wB)(Se);return R(e,Fe)}}))),Oe&&d.createElement(A,{quote:H}),d.createElement(F.Z,{display:"flex",flexDirection:"column"},Ye?d.createElement("div",{className:fe(ne(Oe))},ve?d.createElement(C,{onFocus:function(){return De(!0)},responseContent:Be,setIsEmpty:Ae,setResponseContent:je,isEditorOpen:Oe}):d.createElement(F.Z,{padding:"14px"},d.createElement(E.c,{editor:Se},d.createElement(f.O,{onFocus:function(){return De(!0)},renderLeaf:Pe,renderElement:Ie,placeholder:re})))):d.createElement(U.R9,{operation:"register",susiEntry:"respond_sidebar"},d.createElement(F.Z,{padding:"14px"},d.createElement(V.F,{scale:"M",color:"LIGHTER"},"What are your thoughts?"))),ce?d.createElement("div",{className:fe(te(Oe,{justifyContent:"space-between"}))},d.createElement(P.XZ,{onChange:me,checked:de===k.Et.DISTRIBUTED,textColor:"LIGHTER",textScale:"S",checkboxStyle:"OBVIOUS",marginRight:"8px"},"Also publish to my profile"),qe):d.createElement("div",{className:fe(te(Oe,{alignSelf:"flex-end"}))},qe))),d.createElement(W,{isVisible:Ve,hide:Ge}))}},85714:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d,v:()=>p,QX:()=>m});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(12291),s=n(85277);function c(){var e=o()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return c=function(){return e},e}function u(){var e=o()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return u=function(){return e},e}const d=(0,l.$j)()((function(e){var t=e.dispatch,n=e.user,r=e.post;return a.useEffect((function(){n&&n.isSuspended?t((0,s.Dx)({duration:"NEXTPAGE",message:"",toastStyle:"USER_SUSPENDED"})):r&&r.isSuspended&&t((0,s.Dx)({duration:"NEXTPAGE",message:"",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==r?void 0:r.id)||""}}))}),[]),null}));var p=(0,i.Ps)(u()),m=(0,i.Ps)(c())},2874:(e,t,n)=>{"use strict";n.d(t,{d:()=>D,_:()=>T});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(60046),s=n(62872),c=n(43689),u=n(51562),d=n(47578),p=n(71542),m=n(86280),g=n(62181),f=n(8558),h=n(98281),E=n(22091),v=n(64504),y=n(62630),b=n(27572),x=n(67297),S=n(96879),P=n(27952);function I(){var e=o()(["\n  fragment EntityDrivenSubscriptionLandingPageScreen_writer on User {\n    name\n    imageId\n    id\n    ...userUrl_user\n  }\n  ","\n"]);return I=function(){return e},e}var w="entity-driven-sub-landing-page",R=function(){return a.createElement(s.l,{borderColor:"rgb(230 230 230)",height:c.Je,heightSm:c.R2},a.createElement(E.Pm,null,a.createElement(E.xu,{display:"flex",alignItems:"center",height:"".concat(c.Je,"px"),sm:{height:"".concat(c.R2,"px")},flexDirection:"row"},a.createElement(E.xu,{justifySelf:"flex-start",flexGrow:"1"},a.createElement(l.Rv,{size:"S"})),a.createElement(O,null))))},O=function(){return(0,m.YC)().value?null:a.createElement(E.xu,{justifySelf:"flex-end"},a.createElement(v.F,{scale:"L"},a.createElement(E.xu,{display:"flex",flexDirection:"row",sm:{flexDirection:"column"}},a.createElement(E.xu,{paddingRight:"4px"},"Already a member?"),a.createElement(g.R9,{operation:"login",linkStyle:"OBVIOUS",susiEntry:"entity_driven_subscription_lp"},"Sign in"))))},D=function(e){var t,n,r=e.user,o=(0,x.v)((function(e){return e.config.authDomain})),i=(0,m.YC)().value,l=(0,y.Av)(),s=a.useCallback((function(){l.event("entityDrivenSubCallToAction.clicked",{userId:null==i?void 0:i.id,entityId:null==r?void 0:r.id})}),[r,null==i?void 0:i.id,o]);if(!r)return null;var c=null!==(t=r.name)&&void 0!==t?t:"",g=null!==(n=r.imageId)&&void 0!==n?n:h.Ei,I=r.id,O=(0,P.Qyn)(r.username,o),D=(0,S.Rk)((0,P.c5p)(o),{subscribeToUserId:I}),T=null!=i&&i.mediumMemberAt?O:D;return(0,d.KQ)({},c),a.createElement(b.cW,{source:{name:"entity_driven_subscription",userId:I}},a.createElement(E.xu,{display:"flex",height:"100vh",flexDirection:"column"},a.createElement(R,null),a.createElement(E.xu,{display:"flex",height:"0",flexGrow:"1",textAlign:"center",justifyContent:"center",alignItems:"center",flexDirection:"column"},a.createElement(E.Pm,{size:"inset"},a.createElement(E.xu,{display:"flex",paddingBottom:"32px",justifyContent:"center"},a.createElement(p.s,null,a.createElement(f.zN,{miroId:g,alt:c||"",diameter:128,freezeGifs:!1})),a.createElement(p.e,null,a.createElement(f.zN,{miroId:g,alt:c||"",diameter:80,freezeGifs:!1}))),a.createElement(E.xu,{paddingBottom:"20px"},a.createElement(v.F1,{scale:{xs:"S",sm:"S",md:"L",lg:"L",xl:"L"}},a.createElement(u.W,{featureString:w,target:"title-copy"},"Read every story from ",c," (and thousands of other writers on Medium)."))),a.createElement(E.xu,{paddingBottom:"20px"},a.createElement(v.F,{scale:"L",color:"DARKER"},a.createElement(u.W,{featureString:w,target:"description-copy"},"As a Medium member, a portion of your membership fee goes to the writers you read, and you get full access to every story on Medium."))),a.createElement(E.xu,{paddingBottom:"20px"},a.createElement(E.zx,{onClick:s,href:T,buttonStyle:"STRONG",size:"LARGE"},a.createElement(u.W,{featureString:w,target:"logged-in-button-copy"},"Become a member"))),a.createElement(v.F,{scale:"L",color:"DARKER",tag:"span"},a.createElement(E.rU,{linkStyle:"SUBTLE",href:(0,P.AWr)(r,o)},a.createElement(u.W,{featureString:w,target:"link-copy"},"Visit ",c,"'s profile")))))))},T=(0,i.Ps)(I(),P.$mN)},91297:(e,t,n)=>{"use strict";n.d(t,{gc:()=>yo,De:()=>xo,m6:()=>So});var r=n(28655),o=n.n(r),i=n(67154),a=n.n(i),l=n(63038),s=n.n(l),c=n(71439),u=n(67294),d=n(12291),p=n(28859),m=n(59713),g=n.n(m),f=n(68254),h=n.n(f);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const y=(0,d.$j)((function(e){return{googleAnalyticsCode:e.config.googleAnalyticsCode}}))((function(e){var t=e.googleAnalyticsCode,n=e.collectionGoogleAnalyticsId,r=n?{trackCollectionPageview:{on:"visible",request:"pageview",vars:{account:n}}}:{},o={triggers:v(v({},{trackPageview:{on:"visible",request:"pageview",vars:{account:t}}}),r)},i={__html:'<script type="application/json">'.concat(h()(o,{isJSON:!0}),"<\/script>")};return u.createElement("amp-analytics",{type:"googleanalytics",id:"google-analytics",dangerouslySetInnerHTML:i})}));var b=n(85549),x=n(638),S=n(45113),P=n(9972),I=n(2955),w=n(94132),R=n(26463),O=n(62872),D=n(7530),T=n(67122),k=function(e){var t=e.children;return u.createElement(u.Fragment,null,u.createElement(D.xu,{marginTop:"-240px",background:"linear-gradient(".concat((0,T.l9)(0),",\n        ").concat((0,T.l9)(.5),",\n        ").concat((0,T.l9)(1),")"),height:"250px",position:"relative",width:"100%"}),u.createElement(D.xu,{backgroundColor:"BACKGROUND"},u.createElement(D.xu,{margin:"auto",maxWidth:"760px",sm:{margin:"0 18px 0"}},t)))},_=n(51562),A=n(68387),C=n(32149),L=n(71542),B=n(86280),j=n(324),N=n(62181),U=n(8558),M=n(98281),F=n(64504),H=n(98024),W=n(62630),V=n(27572),z=n(2874),G=n(85277),Q=n(67297),Y=n(96879),$=n(27952);function K(){var e=o()(["\n  fragment MemberOnlyWall_post on Post {\n    id\n    creator {\n      id\n      name\n      username\n      ...useShouldShowEntityDrivenSubscription_creator\n      ...EntityDrivenSubscriptionLandingPageScreen_writer\n    }\n  }\n  ","\n  ","\n"]);return K=function(){return e},e}var Z="entity-driven-sub-member-only-wall",q=function(e){return(0,B.YC)().value?null:u.createElement(D.xu,{display:"flex",justifyContent:"center"},u.createElement(H.F,{scale:"L"},u.createElement(D.xu,{display:"flex",flexDirection:"row",sm:{flexDirection:"column"}},u.createElement(D.xu,{paddingRight:"4px"},"Already a member?"),u.createElement(N.R9,{operation:"login",linkStyle:"OBVIOUS",susiEntry:"entity_driven_subscription_member_only_wall",post:e},"Sign in"))))},X=function(e){var t,n,r,o=e.post,i=(0,G.w)(),a=(0,W.Av)(),l=(0,Q.v)((function(e){return e.config.authDomain})),s=(0,Q.v)((function(e){return e.config.productName})),c=(0,B.YC)().value,d=null==o?void 0:o.creator,p=null==d?void 0:d.isAllowEdsEnabled,m=null!==(t=null==c?void 0:c.mediumMemberAt)&&void 0!==t&&t,g=null!==(n=null==d?void 0:d.viewerIsUser)&&void 0!==n&&n,f=(null==d?void 0:d.id)||"",h=null==d?void 0:d.name,E=(0,$.o2w)(l,null==o?void 0:o.id),v=null!==(r=null==d?void 0:d.imageId)&&void 0!==r?r:M.Ei,y=g&&p&&m,b=u.useCallback((function(){a.event("entityDrivenSubCallToAction.clicked",{userId:null==c?void 0:c.id,entityId:f}),y&&i({message:"You're already a ".concat(s," member."),toastStyle:"MESSAGE"})}),[d,c,l]);u.useEffect((function(){p&&a.event("experiment.eligible",{experimentId:A.OY})}),[p]);var x=(0,Y.Rk)((0,$.c5p)(l),{subscribeToUserId:f}),S=null!=c&&c.mediumMemberAt?E:x;return u.createElement(j.N8,null,u.createElement(k,null,u.createElement(V.cW,{source:{name:"entity_driven_subscription_member_only_wall",postId:o.id,susiEntry:"entity_driven_subscription_member_only_wall"}},u.createElement(D.xu,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},u.createElement(D.xu,{display:"flex",flexDirection:"column",padding:"20px 0",sm:{padding:"28px 16px 32px",textAlign:"center"}},u.createElement(D.Pm,null,u.createElement(D.xu,{display:"flex",paddingBottom:"32px",justifyContent:"center"},u.createElement(L.s,null,u.createElement(U.zN,{miroId:v,alt:h||"",diameter:80,freezeGifs:!1})),u.createElement(L.e,null,u.createElement(U.zN,{miroId:v,alt:h||"",diameter:80,freezeGifs:!1}))),u.createElement(D.xu,{paddingBottom:"20px"},u.createElement(F.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},u.createElement(_.W,{featureString:Z,target:"title-copy"},"Get all of ",h,"'s stories — and unlimited access to everyting on Medium."))),u.createElement(D.xu,{paddingBottom:"20px"},u.createElement(H.F,{scale:"L",color:"DARKER"},u.createElement(_.W,{featureString:Z,target:"description-copy"},"This story has been marked as member-only by the writer, meaning this is excluded from your 3 free member-only stories."))),u.createElement(D.xu,{paddingBottom:"20px"},u.createElement(D.zx,{onClick:b,buttonStyle:"STRONG",href:S},"Become a member")),u.createElement(q,{post:o})))))))},J=((0,c.Ps)(K(),C.G,z._),n(85740)),ee=n(80439),te=n(90738),ne=n(14414),re=n(11348);function oe(){var e=o()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return oe=function(){return e},e}var ie=(0,c.Ps)(oe()),ae=function(e){var t=e.actionUrl,n=e.children,r=e.onSuccess,o=e.token,i=e.userId,a=(0,W.Av)(),l=!!(0,J.P5)("skip_sign_in_recaptcha"),c=u.useState(!1),d=s()(c,2),p=d[0],m=d[1],g=(0,Q.v)((function(e){return e.navigation.currentLocation})),f=function(){m(!1)},h=(0,V.pK)(),E=(0,V.hp)(),v=t&&o?(0,ne.hQ)(g,h,E,t,o):(0,ne.hQ)(g,h,E),y=(0,B.rZ)(),b=y.loading,x=y.error,S=y.viewerId;return b||x?null:u.createElement(ee.mm,{mutation:ie,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":a.event("site.loginLinkSent",{}),r&&r();break;case"FailedChallenge":a.event("site.loginByEmailCaptchaFailure",{}),m(!1);break;case"BadRequest":case"NotFound":default:f()}},onError:f},(function(e){var t=function(t){(0,re.Zs)(!0,S,i,"Email",!1);var n="medium";a.event("susi.methodClicked",{entryPoint:E,operation:"login",susiMethod:n.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:n.toLowerCase(),alternateUserSuggestionTargetUserId:i,alternateUserSuggestionSourceUserId:S}),e({variables:{userId:i,redirect:v,captchaValue:t}})};return u.createElement(u.Fragment,null,!l&&u.createElement(te.k,{callback:t,shouldExecuteRecaptcha:p}),n({handleSubmit:function(){return l?t(null):m(!0)}}))}))},le=n(90174),se=n(4134),ce=n(70146),ue=n(37581),de=function(e){var t=e.actionUrl,n=e.token,r=e.userSocialLogins,o={actionUrl:t||"",operation:"login",token:n||"",targetUserId:r.userId,alternateUserSuggestion:!0};return u.createElement(ue.$,{eventData:{operation:o.operation}},r.google?u.createElement(se.x,o):r.facebook?u.createElement(le.q,o):r.twitter?u.createElement(ce.G,o):u.createElement(u.Fragment,null))};function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var me=function(e){var t=e.declineSuggestedAccount,n=e.isSocial,r=(0,Q.v)((function(e){return e.navigation.hasRenderedAlternateUserBanner})),o=(0,V.hp)(),i=(0,d.I0)(),a=(0,B.YC)(),l=a.loading,s=a.error,c=a.value;if(l||s)return u.createElement(u.Fragment,null);var p=function(e){return e?u.createElement(D.rU,{onClick:function(){return m("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):u.createElement(u.Fragment,null,"Not you?"," ",u.createElement(D.rU,{onClick:function(){return m("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",u.createElement(D.rU,{onClick:function(){return m("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},m=function(e){var n="SIGNIN_OPTIONS"===e?"login":"register";t(),i((0,G.Pc)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({operation:n,step:e},!!o&&{susiEntry:o})))};return r?p(c):c?u.createElement(D.rU,{onClick:function(){return t()}},"Not me"):p(n)},ge=n(51512);function fe(e){if((e.match(/ /g)||[]).length>1)return"";var t=e.indexOf(" ");return e.substring(0,t)}function he(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}var Ee=n(8403);function ve(){var e=o()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        __typename\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return ve=function(){return e},e}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e){var t=e.children,n=e.postRenderCallback,r=(0,W.Av)(),o=(0,V.hp)(),i=(0,Ee.PM)(),a=(0,ge.P7)(i||""),l=a.userId,c=a.name,d=u.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),p=s()(d,2),m=p[0],g=p[1];u.useEffect((function(){var e=m.shouldRun,t=m.showSuggestedAccount,r=m.userSocialLogins;e&&n(f,t,r)}),[m.shouldRun]);var f=(0,B.YC)().value,h=(0,B.rZ)(),E=h.loading,v=h.error,y=h.viewerId;if(E||v)return null;var b=!("email"!==c||f&&f.mediumMemberAt||!l);return b&&l?u.createElement(ee.AE,{query:Se,variables:{userId:l}},(function(e){var i=e.loading,a=e.error,l=e.data,s=(l=void 0===l?{}:l).userSocialLogins,c=!(i||a||!s||f&&!s.isMember||!s.facebook&&!s.google&&!s.twitter&&!s.redactedEmailAddress),u=be({loading:i,showSuggestedAccount:c},c&&{userSocialLogins:s,declineSuggestedAccount:function(){var e=he(s);r.event("susi.suggestNotYou",{entryPoint:o,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==s?void 0:s.userId,alternateUserSuggestionSourceUserId:y})}});return!n||i||m.shouldRun||g({shouldRun:!0,showSuggestedAccount:c,userSocialLogins:s}),t(u)})):(n&&!m.shouldRun&&g(be(be({},m),{},{shouldRun:!0})),t({showSuggestedAccount:b,loading:!1}))},Se=(0,c.Ps)(ve()),Pe=n(62876),Ie=n(96907);function we(){var e=o()(["\n  fragment PayWall_post on Post {\n    id\n    creator {\n      name\n    }\n  }\n"]);return we=function(){return e},e}var Re=function(e){var t=e.optimizelyFeatureString,n=e.post,r=e.viewer,o=e.showTrialPaywall,i=e.authDomain,a=!!(0,J.P5)("enable_lite_pay_page"),l=!!(0,J.P5)("enable_new_checkout_flow");return u.createElement(V.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:n.id}},u.createElement(Ie.M,null,u.createElement(D.xu,{display:"inline-block",textAlign:"center"},u.createElement(_.W,{featureString:t,target:o?"trial-upsell-button":"upsell-button-".concat(r&&r.hasPastMemberships?"resume-membership":"upgrade")},u.createElement(Pe.a,{isButton:!0,buttonStyle:o?"BRAND":"STRONG",width:o||r&&r.hasPastMemberships?"182px":"104px",redirectUrl:a&&(o||l)?(0,$.c5p)(i):(0,$.KP0)(i)},o?"Start your free trial":r&&r.hasPastMemberships?"Resume membership":"Upgrade")))))},Oe=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=(0,d.I0)();return u.createElement(V.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},u.createElement(D.xu,{display:"flex",sm:{flexDirection:"column"}},u.createElement(D.xu,{display:"flex",flexDirection:"row",justifyContent:"center"},n.facebook||n.google||n.twitter?u.createElement(de,{userSocialLogins:n}):u.createElement(ae,{onSuccess:function(){return r((0,G.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:n.userId},(function(e){var t=e.handleSubmit;return u.createElement(D.zx,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")})))),t&&u.createElement(D.xu,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},u.createElement(H.F,{scale:"M"},u.createElement(me,{declineSuggestedAccount:t,isSocial:!!n&&!!(n.facebook||n.google||n.twitter)}))))},De=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=e.suggestedAccountEventData,o=e.showSuggestedAccount,i=e.postId;return u.createElement(V.cW,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:i}},u.createElement(Ie.M,{eventData:r},u.createElement(D.xu,{display:"inline-block",textAlign:"center"},u.createElement(Oe,{declineSuggestedAccount:t,showSuggestedAccount:o,userSocialLogins:n}),u.createElement(D.xu,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},u.createElement(H.F,{scale:"L"},u.createElement(Pe.a,{eventData:r,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},Te=function(e){var t=e.post,n=(0,Q.v)((function(e){return e.config.authDomain})),r=(0,Q.v)((function(e){return e.config.productName})),o=(0,B.YC)().value,i=(0,B.rZ)().viewerId,a=(0,W.Av)(),l=null==o?void 0:o.isMembershipTrialEligible,s=!(!(0,J.P5)("enable_trial_upsell")||!l),c=!!(0,J.P5)("optimizely_holdback");u.useEffect((function(){l&&a.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var d="paywall";return u.createElement(j.N8,null,u.createElement(k,null,u.createElement(xe,{postRenderCallback:function(){}},(function(e){var a,l=e.loading,p=e.showSuggestedAccount,m=e.declineSuggestedAccount,g=e.userSocialLogins;return l?u.createElement(u.Fragment,null):(p&&(d="suggested-account-paywall"),p&&(a={alternateUserSuggestionShown:p,alternateUserSuggestionAccountType:he(g),alternateUserSuggestionTargetUserId:!!g&&g.userId,alternateUserSuggestionSourceUserId:i}),u.createElement(u.Fragment,null,u.createElement(_.W,{featureString:d,target:s?"trial-background-color":"background-color"},u.createElement(D.xu,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},u.createElement(D.xu,{display:"flex",flexDirection:"column",padding:"48px 50px",sm:{padding:"28px 16px 32px",textAlign:"center"}},u.createElement(_.W,{featureString:d,target:s?"webCCTrialHeading":"fewerClicksHeading"},u.createElement(F.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},function(e,t,n,r){var o=r.showSuggestedAccount,i=r.showTrialPaywall,a=r.inHoldback,l=t?fe(t):null;return l=l&&l.length<=13?l:null,o?"Switch to your member account for unlimited reading.":i?u.createElement(D.xu,{textAlign:"center",sm:{marginBottom:"5px",textAlign:"center"}},l?"".concat(l,", keep reading."):"Keep reading."):u.createElement(D.xu,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},a?"How to read this story — and everything else on ".concat(e,"."):l?n?"".concat(l,", read more from ").concat(n," — and everyone else on ").concat(e,"."):"".concat(l,", here's how to read this story — and everything else on ").concat(e,"."):n?"How to read this story from ".concat(n," — and everything else on ").concat(e,"."):"How to read this story — and everything else on ".concat(e,"."))}(r,o&&o.name,t.creator&&t.creator.name,{showSuggestedAccount:p,showTrialPaywall:s,inHoldback:c}))),u.createElement(H.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"div"},!p&&!s&&u.createElement(u.Fragment,null,u.createElement(_.W,{featureString:d,target:"second-header-fewer-clicks"},u.createElement(D.xu,{marginTop:"8px",marginBottom:"28px",textAlign:"left",sm:{display:"inline-block",textAlign:"center"}},"You’ve read all your free member-only stories. Become a member to get unlimited access and support the voices you want to hear more from.")),u.createElement(D.xu,{display:"flex",justifyContent:"flex-start",sm:{justifyContent:"center"}},u.createElement(Re,{optimizelyFeatureString:d,post:t,viewer:o,showTrialPaywall:s,authDomain:n}))),u.createElement(_.W,{featureString:d,target:s?"subtitle-copy-web-cc-trial":"subtitle-copy-fewer-clicks"},u.createElement(D.xu,{marginTop:p?"28px":"8px",marginBottom:"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:"inline-block"}},function(e,t,n,r){var o=n.showTrialPaywall;if(n.showSuggestedAccount&&t){var i=t.isMember,a=t.redactedEmailAddress;return u.createElement(u.Fragment,null,"Looks like you're coming from the ",i&&"member ","account"," ",u.createElement("b",null,a)," but you’re signed in as ",u.createElement("b",null,null==r?void 0:r.email),". Switch to your",i?" member account for unlimited access":" account",".")}return u.createElement(D.xu,{marginTop:"28px",marginBottom:"28px",textAlign:o?"center":"left"},o?"Start your 1 month free trial for unlimited access to everything on ".concat(e,". If it’s not for you, cancel anytime."):u.createElement(u.Fragment,null,u.createElement("b",null,"Read any story. "),"Access everything on ",e," across all your devices with no limits or ads.",u.createElement("br",null),u.createElement("br",null),u.createElement("b",null,"Reward great writing. "),"A portion of your membership fee will go toward the writers you read most."))}(r,g,{showSuggestedAccount:p,showTrialPaywall:s},o)))),!!p&&g&&u.createElement(De,{declineSuggestedAccount:m,userSocialLogins:g,suggestedAccountEventData:a,showSuggestedAccount:p,postId:t.id}),s&&!p&&u.createElement(Re,{optimizelyFeatureString:d,post:t,viewer:o,showTrialPaywall:s,authDomain:n}))))))}))))},ke=(0,c.Ps)(we()),_e=n(6401),Ae=n(5731),Ce=n(59317),Le=n(81405);function Be(){var e=o()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return Be=function(){return e},e}function je(){var e=o()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return je=function(){return e},e}var Ne="post_regwall",Ue=function(e){var t=e.enablePasswords,n=e.meterCount,r=e.optimizelyFeatureString,o=e.postId,i={operation:"register"},a=(0,Ce.j)().openModal,l=function(e){var n=e.children;return t?u.createElement(_.W,{featureString:r,target:"google-button"},n):n};return u.createElement(D.xu,{display:"flex",flexDirection:"column",textAlign:"center",sm:{flexDirection:"column"}},u.createElement(_.W,{featureString:r,target:"google-button"},u.createElement(D.xu,{margin:"".concat(t?"32px":"62px"," 0 10px"),sm:{margin:"40px 0 12px 0"}},u.createElement(ue.$,{eventData:{meterCount:n,operation:i.operation,postId:o}},u.createElement(se.x,i)))),u.createElement(l,null,u.createElement(D.xu,{marginBottom:t?"32px":"52px",sm:{marginBottom:"40px"}},u.createElement(ue.$,{eventData:{meterCount:n,operation:i.operation,postId:o}},t?u.createElement(Le.R,{goToEmailAuthStep:function(){a({step:"ENTER_EMAIL",susiEntry:Ne,operation:"register"})},operation:"register"}):u.createElement(le.q,i)))))},Me=function(e){var t=e.meteringInfo,n=e.post,r=(0,W.Av)(),o=!!(0,J.P5)("enable_passwords"),i="LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,a="".concat(i?"syndicated-":"","regwall");return u.useEffect((function(){r.event("meter.viewed",{meterCount:null==t?void 0:t.postIds.length,postId:n.id,uiType:i?Ae.j.SyndicatedRegwall:Ae.j.RegWall})}),[]),u.createElement(j.N8,null,u.createElement(V.cW,{source:{postId:n.id,susiEntry:Ne}},u.createElement(k,null,u.createElement(_.W,{featureString:a,target:"background-color"},u.createElement(D.xu,{display:"flex",textAlign:"center",justifyContent:"center",sm:{flexDirection:"column",textAlign:"center"}},u.createElement(D.xu,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},u.createElement(_.W,{featureString:a,target:"heading"},u.createElement(F.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},u.createElement(D.xu,{display:"none",sm:{display:"block"}},"To keep reading this story, get the free app or log in."),u.createElement(D.xu,{display:"block",sm:{display:"none"}},"Read the rest of this story with a free account."))),u.createElement(F.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},u.createElement(D.xu,{display:"none",margin:"auto",paddingTop:"10px",width:"500px"},"You’ll also discover more fresh thinking personalized to your interests and can follow your favorite authors, publications, and topics."),u.createElement(D.xu,{display:"none",sm:{display:"block"}},u.createElement(D.xu,{margin:"".concat(o?"40px":"42px"," 0")},u.createElement(_e.a,{isButton:!0,postId:n.id,appEntry:"regwall"})),u.createElement(_.W,{featureString:a,target:"skip-app-copy"},u.createElement(D.xu,{marginBottom:"-20px"},"Or, continue in mobile web"))),u.createElement(Ue,{meterCount:null==t?void 0:t.postIds.length,optimizelyFeatureString:a,postId:n.id,enablePasswords:o}),u.createElement(_.W,{featureString:a,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),u.createElement(_.W,{featureString:a,target:"sign-in-link",tag:"span"},u.createElement(N.R9,{linkStyle:"OBVIOUS",operation:"login",post:n,susiEntry:Ne},"Sign in")))))))))},Fe=(0,c.Ps)(je(),N.qU),He=(0,c.Ps)(Be()),We=n(46829);function Ve(){var e=o()(["\n  mutation AddCollaboratorMutation($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return Ve=function(){return e},e}function ze(){var e=o()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return ze=function(){return e},e}var Ge=(0,c.Ps)(ze()),Qe=(0,c.Ps)(Ve()),Ye=n(47578),$e=n(42963);function Ke(){var e=o()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n      viewerCanEditOwnPosts\n      viewerCanEditPosts\n      viewerIsEditor\n    }\n    creator {\n      id\n    }\n  }\n"]);return Ke=function(){return e},e}var Ze=(0,c.Ps)(Ke()),qe=(0,d.$j)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.post,r=e.children;return u.createElement(B.Q_,null,(function(e){return function(e,t){var n=e.collection,r=e.creator&&t&&e.creator.id===t.id,o=r&&n&&n.viewerCanEditOwnPosts||n&&(n.viewerIsEditor||n.viewerCanEditPosts);return(!e||!e.isPublished)&&(n?o:r)}(n,e)?u.createElement($e.Z,{to:(0,$.d0A)(t,n.id)}):r}))})),Xe=n(66371),Je=n(55253),et=n(70405),tt=n(319),nt=n.n(tt),rt=n(82492),ot=n.n(rt),it=n(90038),at=n(22744);function lt(){var e=o()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    seoTitle\n    mediumUrl\n    creator {\n      name\n      username\n      ...userUrl_user\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    tags {\n      displayTitle\n    }\n    sequence {\n      slug\n    }\n    lockedSource\n    layerCake\n    isShortform\n    shortformType\n    structuredData\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n"]);return lt=function(){return e},e}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e){var t=e.id,n=e.originalWidth,r=e.originalHeight;if(!t||!n||!r)return null;var o=Math.min(r,60),i=o/r,a=Math.floor(n*i);return dt({width:a,height:o,url:(0,it.W6)({miroId:t,width:a,freezeGifs:!0,strategy:it._S.Resample})})}function dt(e){return ct({"@type":"ImageObject"},e)}function pt(e,t){return"".concat(e,":").concat(t)}const mt=(0,d.$j)((function(e){var t=e.config,n=t.productName,r=t.defaultImages,o=t.collectionStructuredData,i=e.navigation;return{currentLocation:i.currentLocation,host:i.host,productName:n,defaultImages:r,collectionStructuredData:o}}))((function(e){var t=e.currentLocation,n=e.host,r=e.post,o=e.postDescription,i=e.productName,a=e.defaultImages,l=e.collectionStructuredData,s=r.collection,c=r.creator,d=r.id,p=r.mediumUrl,m=r.isLocked,g=r.previewImage,f=r.firstPublishedAt,E=r.updatedAt,v=r.tags,y=r.sequence,b=r.lockedSource,x=r.layerCake,S=r.structuredData,P=(0,at._t)(r,i),I={id:a.postLogo.imageId,originalWidth:a.postLogo.width,originalHeight:a.postLogo.height},w={id:a.orgLogo.imageId,originalWidth:a.orgLogo.width,originalHeight:a.orgLogo.height},R=s?{"@type":"Organization",name:s.name,url:s.domain||(0,Y.l1)(n,(0,$.WGd)(s,t)),logo:function(e){if(!e||!e.logo||!e.logo.id)return ut(w);var t=ut(e.logo);return t&&60===t.height&&t.width<=600?t:ut(w)}(s)}:{"@type":"Organization",name:i,url:(0,Y.l1)(n,"/"),logo:ut(w)};s&&l&&l[s.id]&&ot()(R,l[s.id].data);var O=[pt("Lite","true")];v&&v.forEach((function(e){e.displayTitle&&O.push(pt("Tag",e.displayTitle))})),s&&s.slug&&O.push(pt("Publication",s.slug)),O.push(pt("Elevated",(!!y).toString())),y&&y.slug&&O.push(pt("Sequence",y.slug)),b&&O.push(pt("LockedPostSource",b)),null!=x&&O.push(pt("LayerCake",x.toString()));var D=o||"",T=m?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},k={"@context":"http://schema.org"},_=ct({"@type":"NewsArticle",image:g&&g.id?function(e){var t=e.id,n=e.originalWidth,r=e.originalHeight,o=e.focusPercentX,i=e.focusPercentY;if(!t)return null;var a=1200,l=(0,it.vz)({miroId:t,aspectRatio:16/9,croppedWidth:a,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),s=(0,it.vz)({miroId:t,aspectRatio:4/3,croppedWidth:a,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),c=(0,it.vz)({miroId:t,aspectRatio:1,croppedWidth:a,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),u=new Set([l,s,c]);return Array.from(u)}(g):dt({url:(0,it.W6)({miroId:I.id,width:I.originalWidth}),height:I.originalHeight,width:I.originalWidth}),url:p,dateCreated:f&&new Date(f).toISOString(),datePublished:f&&new Date(f).toISOString(),dateModified:E&&new Date(E).toISOString(),headline:P,name:P,description:D,identifier:d,keywords:O.length?O:null,author:c&&c.name&&c.username?{"@type":"Person",name:c.name||c.username,url:(0,$.AWr)(c,n)}:null,creator:c&&[c.name],publisher:R,mainEntityOfPage:p},T),A=ct(ct({},k),_);if(S&&S.length>0)try{var C=JSON.parse(S);if(C&&null!=C&&C["@graph"]&&(null==C?void 0:C["@graph"].length)>0){var L=((null==C?void 0:C["@graph"])||[]).filter((function(e){return(null==e?void 0:e["@type"])&&"NewsArticle"!==(null==e?void 0:e["@type"])}));L&&L.length>0&&(A=ct(ct({},k),{},{"@graph":[_].concat(nt()(L))}))}}catch(e){}return u.createElement(et.q,null,u.createElement("script",{type:"application/ld+json"},h()(A,{isJSON:!0})))}));var gt=(0,c.Ps)(lt(),at.bq,$.$mN),ft=n(27390),ht=n(71794);function Et(){var e=o()(["\n  fragment PostMetadata_post on Post {\n    id\n    socialTitle\n    socialDek\n    noIndex\n    curationStatus\n    canonicalUrl\n    mediumUrl\n    metaDescription\n    latestPublishedAt\n    visibility\n    isLimitedState\n    readingTime\n    creator {\n      name\n      twitterScreenName\n      ...userUrl_user\n    }\n    collection {\n      ampEnabled\n      twitterUsername\n      facebookPageId\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalHeight\n      originalWidth\n    }\n    isShortform\n    noIndex\n    curationStatus\n    ...PostJsonLd_post\n    ...postMetaDescription_post\n    ...shortformPostMetaDescription_post\n    ...shouldIndexPost_post\n    ...shortformPostTitle_post\n    ...getTitleDetails_post\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Et=function(){return e},e}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const bt=(0,d.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var t,n,r=e.isAmp,o=e.host,i=e.authDomain,a=e.productName,l=e.post,s=l.canonicalUrl,c=l.collection,d=l.creator,p=l.id,m=l.latestPublishedAt,g=l.mediumUrl,f=l.previewContent,h=l.socialTitle,E=l.socialDek,v=l.visibility,y=l.isShortform,b=c&&c.ampEnabled,x=d&&d.name,S=(0,at.yB)(l),P=l.title||"",I=S.latestTitle||P;if(y){var w=yt(yt({},l),{},{title:I});t=(0,at.oS)(w,a,S.hasTitleGraf).trim(),n=(0,ht.OO)(l,S.hasTitleGraf)}else t=(0,at._t)(l,a,S,!0).trim(),n=(0,ht.j7)(l);var R,O,D=E||f&&f.subtitle||n;if(l&&l.previewImage&&l.previewImage.id&&!l.isLimitedState){var T=l.previewImage;R=(0,it.vz)({miroId:T.id,aspectRatio:1.9,croppedWidth:T.originalWidth?Math.min(T.originalWidth,1200):1200,originalWidth:T.originalWidth,originalHeight:T.originalHeight,focusPercentX:T.focusPercentX,focusPercentY:T.focusPercentY})}else if(l.isLimitedState){var k={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};R=(0,it.vz)({miroId:k.id,aspectRatio:1.9,croppedWidth:k.originalWidth?Math.min(k.originalWidth,1200):1200,originalWidth:k.originalWidth,originalHeight:k.originalHeight,focusPercentX:k.focusPercentX,focusPercentY:k.focusPercentY})}d&&d.username&&(O=(0,$.AWr)(d,i));var _=(0,$.CK_)(p),A=(0,J.P5)("deindex_from_external_search_threshold"),C=!(0,at.c_)(l,A),L=m&&new Date(m).toISOString(),B=(0,ft.Vd)(l.readingTime||0),j=d&&d.twitterScreenName,N=c&&c.twitterUsername||"Medium",U=c&&c.facebookPageId,M=h||P||I;l.isLimitedState&&(M="");var F=l.isLimitedState?"":D,H=u.useMemo((function(){var e;return u.createElement(et.q,{htmlAttributes:r?{amp:void 0}:{}},u.createElement("meta",{property:"og:type",content:"article"}),L&&u.createElement("meta",{property:"article:published_time",content:L}),b&&!r?u.createElement("link",{rel:"amphtml",href:(0,$.VcI)(o,p)}):null,u.createElement("title",null,t),u.createElement("meta",{name:"title",content:t}),u.createElement("meta",{property:"og:title",content:M}),u.createElement("meta",{property:"twitter:title",content:M}),U&&u.createElement("meta",{property:"fb:pages",content:U}),u.createElement("meta",{name:"twitter:site",content:"@".concat(N)}),u.createElement("meta",{name:"twitter:app:url:iphone",content:_}),u.createElement("meta",{property:"al:android:url",content:_}),u.createElement("meta",{property:"al:ios:url",content:_}),u.createElement("meta",{property:"al:android:app_name",content:"Medium"}),n&&u.createElement("meta",{name:"description",content:n}),D&&u.createElement("meta",{property:"og:description",content:F}),D&&u.createElement("meta",{property:"twitter:description",content:F}),u.createElement("meta",{property:"og:url",content:null!=g?g:void 0}),u.createElement("meta",{property:"al:web:url",content:null!=g?g:void 0}),R&&u.createElement("meta",{property:"og:image",content:R}),R&&u.createElement("meta",{name:"twitter:image:src",content:R}),u.createElement("meta",{name:"twitter:card",content:R?"summary_large_image":"summary"}),O&&u.createElement("meta",{property:"article:author",content:O}),O&&u.createElement("link",{rel:"author",href:O}),j&&u.createElement("meta",{name:"twitter:creator",content:"@".concat(j)}),x&&u.createElement("meta",{name:"author",content:x}),u.createElement("link",{rel:"canonical",href:null!==(e=s||g)&&void 0!==e?e:void 0}),u.createElement("link",{rel:"alternate",href:(0,$.zix)((0,$.o2w)("medium.com",l.id))}),u.createElement("meta",{name:"robots",content:"".concat(C?"noindex":"index",",follow,max-image-preview:large")}),u.createElement("meta",{name:"referrer",content:"UNLISTED"!==v?"unsafe-url":"origin"}),r?null:u.createElement("meta",{name:"twitter:label1",content:"Reading time"}),r?null:u.createElement("meta",{name:"twitter:data1",content:"".concat(B," min read")}),u.createElement("meta",{name:"parsely-post-id",content:p}))}),[r,t,s,g,R,b,p,h,n,O,x,j,_,C,L]);return u.createElement(u.Fragment,null,H,u.createElement(mt,{post:l,postDescription:n}))}));var xt=(0,c.Ps)(Et(),gt,ht.iI,ht.m3,at.HF,at.Pz,at.dm,at.bq,$.$mN),St=n(51607),Pt=n(72955),It=n(14391),wt=n(76579);function Rt(){var e=o()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n      viewerIsEditor\n    }\n    creatorPartnerProgramEnrollmentStatus\n  }\n"]);return Rt=function(){return e},e}function Ot(){var e=o()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return Ot=function(){return e},e}function Dt(){var e=o()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    shareKey\n    ...ShareButton_post\n    creatorPartnerProgramEnrollmentStatus\n    isNewsletter\n    isPublishToEmail\n    creator {\n      id\n    }\n    isMarkedPaywallOnly\n  }\n  ","\n"]);return Dt=function(){return e},e}var Tt=function(){return u.createElement(D.xu,null,u.createElement(D.rU,{inline:!0,linkStyle:"OBVIOUS",href:(0,$.Scj)()},"Learn more")," ","about what happens to your post when you publish.")};var kt=(0,c.Ps)(Dt(),St.M),_t=(0,c.Ps)(Ot(),kt),At=function(e){var t=e.url,n=e.label;return u.createElement(wt.b,{url:t},(function(e){return u.createElement(D.xu,{marginBottom:"8px"},u.createElement(D.zx,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},u.createElement(D.xu,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":n)))}))},Ct=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;return u.createElement(D.xu,{display:"flex",flexDirection:"column",alignItems:"center"},u.createElement(F.F,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),u.createElement(D.xu,{marginTop:"20px"},!n&&u.createElement(u.Fragment,null,u.createElement(D.xu,{marginBottom:"8px"},u.createElement(St.T,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),u.createElement(D.xu,{marginBottom:"8px"},u.createElement(St.T,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t})),u.createElement(D.xu,{marginBottom:"8px"},u.createElement(St.T,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:t}))),u.createElement(At,{url:r,label:"Copy story link"})))},Lt=function(e){var t=e.viewerId,n=e.isVisible,r=e.hide,o=e.post,i=o.id,a=o.visibility,l=o.curationEligibleAt,s=o.mediumUrl,c=o.shareKey,d=o.creatorPartnerProgramEnrollmentStatus,p=o.isNewsletter,m=o.isPublishToEmail,g=o.isMarkedPaywallOnly,f=o.creator,h="UNLISTED"===a,E=!!l,v=d===It.iR.ENROLLED,y=(0,Q.v)((function(e){return e.config.productName})),b="Your story is published!";return m&&t===(null==f?void 0:f.id)?b="Your story has been published and sent!":p&&(b="Your newsletter is on its way!"),u.createElement(D.Vq,{isVisible:n,hide:r,withAnimation:!0,withCloseButton:!1},u.createElement(D.xu,{background:T.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,T.Uy)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},u.createElement(D.xu,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},u.createElement(D.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},u.createElement(F.F1,{scale:"L",tag:"h3"},b),u.createElement(D.xu,{maxWidth:"520px",marginTop:"20px"},u.createElement(F.F,{color:"DARKER",scale:"L"},function(e,t,n,r,o,i){return r?function(e,t){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(t,"."):u.createElement(u.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",t," readers’ homepages and Digest emails depending on their interests."," ",u.createElement(D.rU,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,i):e?"Your unlisted story will not appear publicly on ".concat(i,", but you can still share it."):o?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":n?t?u.createElement(u.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money. It will be part of ",i,"’s metered paywall.",u.createElement(Tt,null)):u.createElement(u.Fragment,null,"You did not choose to make this story eligible to earn money. It will not be part of"," ",i,"’s metered paywall.",u.createElement(Tt,null)):u.createElement(u.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",i," Partner Program."," ",u.createElement(D.rU,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(h,E,v,p,null!=g&&g,y))),u.createElement(D.xu,{paddingTop:"20px"},E&&!h&&s&&c&&u.createElement(At,{url:(0,Y.Rk)((0,$.jVf)(o),{sk:c}),label:"Copy Friend Link"})),u.createElement(D.xu,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),i&&s&&u.createElement(Ct,{post:o,isUnlisted:h,postPath:(0,$.jVf)(o)})),u.createElement(D.PZ,{onClick:r,size:"LARGE"})))},Bt=function(e){var t=e.post,n=u.useState(!1),r=s()(n,2),o=r[0],i=r[1];return o?u.createElement(B.Q_,null,(function(n){return n&&n.id&&(n.id===(t.creator&&t.creator.id)||t.collection&&t.collection.viewerIsEditor)?u.createElement(ee.AE,{ssr:!1,query:_t,variables:{postId:t.id}},(function(t){var r=t.loading,o=t.data,i=(o=void 0===o?{}:o).post;if(r||!i||i.inResponseToPostResult)return null;var a={isVisible:e.isVisible,hide:e.hide,post:i,viewerId:n.id};return u.createElement(Lt,a)})):null})):(Pt.V6.on("load",(function(){return i(!0)})),null)},jt=(0,c.Ps)(Rt()),Nt=n(49925),Ut=n(10103),Mt=n(59877);function Ft(){var e=o()(["\n  fragment PostScreenThemeProvider_post on Post {\n    collection {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    customStyleSheet {\n      ...CustomThemeProvider_customStyleSheet\n    }\n  }\n  ","\n  ","\n  ","\n"]);return Ft=function(){return e},e}var Ht=function(e){var t=e.children,n=e.post,r=n.collection||n.creator,o=(0,Nt.GT)(r),i=n.customStyleSheet;return o?u.createElement(Ut.G8,{customStyleSheet:i,publisher:r},t):u.createElement(Ut.G8,{customStyleSheet:null,publisher:r},u.createElement(Mt.r,null,t))},Wt=(0,c.Ps)(Ft(),Ut.Kc,Ut.Ps,Nt.C5),Vt=n(62182),zt=n(11505),Gt=n(50493),Qt=n(25415),Yt=n(76679),$t=n(69677),Kt=n(72846),Zt=n(91442),qt=n(11642);function Xt(){var e=o()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return Xt=function(){return e},e}function Jt(){var e=o()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return Jt=function(){return e},e}function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n)return null;var r=t,o=n;return e.substr(r,o-r)}var rn=(0,c.Ps)(Jt()),on=(0,c.Ps)(Xt()),an=n(31235);function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(){var e=o()(["\n  query InteractivePostBodyQuery($postId: ID!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return cn=function(){return e},e}function un(){var e=o()(["\n  fragment InteractivePostBody_post on Post {\n    id\n    # please note that postMeteringOptions is defined in PostHandler, which uses InteractivePostBody\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n        paragraphs {\n          ...HighlighSegmentContext_paragraph\n          ...NormalizeHighlights_paragraph\n        }\n      }\n    }\n    creator {\n      id\n      allowNotes\n      ...PostBody_creator\n    }\n    ...ActiveSelectionContext_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return un=function(){return e},e}var dn=(0,c.Ps)(un(),Yt.iF,Zt.iB,on,Kt.Pk,Kt.v),pn=(0,c.Ps)(cn(),Yt.UW,Zt.g8,Kt.XV,Kt.w6,rn);const mn=u.forwardRef((function(e,t){var n=e.activeGrafId,r=e.activeNoteId,o=e.isAuroraPostPageEnabled,i=e.post,l=e.postBodyInserts,s=(0,an.xg)(),c=i.content,d=i.latestPublishedVersion;if(!c)throw new Error("Expected post to have content.");var p={bodyModel:c.bodyModel,creator:i.creator,isAuroraPostPageEnabled:o,postBodyInserts:l,ref:t,richTextStyle:"FULL_PAGE"},m=i&&i.creator&&i.creator.allowNotes||!1;return c.isLockedPreviewOnly||s?u.createElement(Kt.ZP,p):u.createElement(ee.AE,{notifyOnNetworkStatusChange:!0,ssr:!1,query:pn,variables:{postId:i.id,showNotes:m}},(function(e){var t=e.data,o=(t=void 0===t?{}:t).post,l=c.bodyModel&&c.bodyModel.paragraphs,s=function(e,t){return e&&t?e.map((function(e){var n=e.endOffset,r=e.startOffset,o=e.paragraphs&&e.paragraphs[0],i=function(e,t){return e?t.find((function(t){var n=t.name;return e===n})):null}(o.name,t);if(!o||!i)return null;var a=nn(o.text,r,n),l=nn(i.text,r,n);if(!a||!l)return null;if(a===l)return e;var s=i.text?i.text.indexOf(a):null;if("number"!=typeof s||s<0)return null;var c=s+a.length;return tn(tn({},e),{},{endOffset:c,startOffset:s})})).filter(qt.b):e}(o&&o.highlights||[],l),m=o&&o.privateNotes||null;return u.createElement($t.yb,null,u.createElement(Qt.KN,{initialActivePrivateNoteId:r,initialActiveGrafName:n},u.createElement(Yt.Ms,{interactivePost:sn(sn({},i),{},{latestPublishedVersion:d}),highlights:s},u.createElement(B.Q_,{nonBlocking:!0},(function(e){return u.createElement(Zt.U7,{highlights:s,paragraphs:l,viewer:e},u.createElement(Kt.ZP,a()({},p,{highlights:s,privateNotes:m})))})))))}))}));var gn=n(9482),fn=n(90163),hn=n(50188),En=n(47012),vn=n(55127),yn=n(56365),bn=n(28309),xn=function(e){var t=e.children,n=e.rule,r=(0,bn.Iq)(),o=n?r(n):"";return o?u.createElement("div",{className:o},t):u.createElement(u.Fragment,null,t)},Sn=n(85489),Pn=n(86156),In=n(2074),wn=n(23450),Rn=n.n(wn),On=n(26600),Dn=n(78067),Tn=n(51176),kn=n(14267),_n=n(72558),An=n(19537),Cn=n(68356),Ln=n.n(Cn),Bn=n(79853),jn=n(90320);function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mn={delay:1e3,timeout:2e4,loading:function(e){return e.error?u.createElement(Bn.Z,{error:e.error}):e.timedOut?u.createElement(Bn.Z,{error:new Error("Loadable Screen component has timed out")}):e.pastDelay?u.createElement(jn.Z,null):null}},Fn=Ln()(Un(Un({},Mn),{},{loader:function(){return n.e(6635).then(n.bind(n,91229))},modules:["src/components/responses/editor/ThreadedInlineResponseEditor"],webpack:function(){return[91229]},render:function(e,t){var n=e.ThreadedInlineResponseEditor;return u.createElement(n,t)}})),Hn=function(e){var t=e.parentPostId,n=e.responseId,r=e.type,o=void 0===r?An.H.create:r,i=e.initialValue;return u.createElement(Fn,{parentPostId:t,responseId:n,type:o,initialValue:i})},Wn=function(e){var t,n=e.responsePost,r=e.index,o=e.parentPost,i=e.omitBottomBorder,a=u.useState(!1),l=s()(a,2),c=l[0],d=l[1],p=u.useState(null),m=s()(p,2),g=m[0],f=m[1],h=u.useContext(kn.D),E=h.editingResponsesAtIndices,v=h.setEditingResponsesAtIndices;return u.useEffect((function(){if(c&&!E.includes(r)&&v([].concat(nt()(E),[r])),!c&&E.includes(r)){var e=E.filter((function(e){return e!==r}));v(e)}}),[c,E,v]),n?c?u.createElement(Tn.Q.Provider,{value:{isEditing:c,setIsEditing:d,latestRev:null==n?void 0:n.latestRev,createdAt:null==n?void 0:n.createdAt,setEditingQuote:f,editingQuote:g}},u.createElement(V.cW,{source:{index:r},key:n.id,extendSource:!0},u.createElement(Hn,{type:An.H.edit,parentPostId:o.id,responseId:n.id,initialValue:null==n||null===(t=n.content)||void 0===t?void 0:t.bodyModel}))):u.createElement(Tn.Q.Provider,{value:{isEditing:c,setIsEditing:d,setEditingQuote:f,editingQuote:g}},u.createElement(V.cW,{source:{index:r},key:n.id,extendSource:!0},u.createElement(_n.OT,{parentPost:o,simpleResponse:n,omitBottomBorder:i}))):null},Vn={"0%":{opacity:"0.8"},"50%":{opacity:"0.5"},"100%":{opacity:"0.8"}},zn=function(){var e=(0,bn.om)({shimmerKeyframesName:Vn}).shimmerKeyframesName,t=(0,bn.Iq)();return u.createElement("div",{className:t((function(){return{animation:"".concat(e," 1.2s ease-in-out infinite"),padding:"32px 0"}}))},u.createElement(D.xu,{display:"flex",flexDirection:"row"},u.createElement(D.xu,{height:"32px",width:"32px",borderRadius:"100%",backgroundColor:"BASE_NORMAL"}),u.createElement(D.xu,{marginLeft:"8px",marginTop:"4px"},u.createElement(D.xu,{height:"8px",width:"120px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),u.createElement(D.xu,{height:"8px",width:"80px",backgroundColor:"BASE_NORMAL"}))),u.createElement(D.xu,{marginTop:"12px"},u.createElement(D.xu,{height:"10px",width:"100%",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),u.createElement(D.xu,{height:"10px",width:"100%",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),u.createElement(D.xu,{height:"10px",width:"90%",backgroundColor:"BASE_NORMAL"})))},Gn=n(15699),Qn=n(81162),Yn=n(14349),$n=n(24745),Kn=n(51151),Zn=n(26912);function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xn,Jn=function(e){return{fill:e.baseColor.fill.lighter,float:"right"}},er=function(e){var t,n,r=e.storyResponse,o=e.parentPost,i=e.omitBottomBorder,a=(0,bn.Iq)(),l=(0,bn.Fg)(),s=r.creator,c=r.previewContent,d=r.mediumUrl,p=r.clapCount,m=r.responsesCount,g=null==c||null===(t=c.bodyModel)||void 0===t?void 0:t.paragraphs;if(!(s&&c&&c.bodyModel&&d&&g))return null;var f=function(e){var t,n=[],r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.text&&(n.push(o),n.length>=2))break}}catch(e){r.e(e)}finally{r.f()}return{title:n[0],subtitle:n[1]}}(g);if(!f.title&&!f.subtitle)return null;var h,E=null!==(null===(n=r.inResponseToMediaResource)||void 0===n?void 0:n.mediumQuote),v=m||0;return u.createElement(Gn.Z,{post:r,presentationContext:"POST_PREVIEW",isDisplayingFullPost:!1},u.createElement(D.xu,{paddingTop:"25px",paddingBottom:"20px",borderBottom:i?void 0:"BASE_LIGHTER"},u.createElement($n.E,{response:r,responseType:Zn.Q.STORY,parentPost:o}),u.createElement(Kn.J,{inResponseToMediaResource:r.inResponseToMediaResource}),u.createElement(D.P3,{href:(0,$.jVf)(r)},u.createElement("div",{className:a({boxShadow:"0px 1px 4px rgba(0,0,0,0.04)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"3px",padding:"12px",marginTop:E?"12px":"16px",backgroundColor:l.backgroundColor})},u.createElement("div",{className:a(Jn)},u.createElement(F.F,{scale:"S",color:"LIGHTER",tag:"div"},u.createElement(D.xu,{display:"flex",flexGrow:"0",alignItems:"center",marginLeft:p>0||v>0?"20px":"0"},p>0?u.createElement(D.xu,{display:"flex",alignItems:"center"},u.createElement(D.xu,{tag:Qn.Z,marginRight:"2px"}),u.createElement("div",null,(0,ft.pY)(p))):null,v>0?u.createElement(D.xu,{display:"flex",alignItems:"center"},u.createElement(D.xu,{tag:Yn.Z,marginLeft:p?"8px":"0",marginRight:"2px"}),u.createElement("div",null,(0,ft.pY)(v))):null))),u.createElement(F.F,{scale:"M",clamp:2,color:"DARKER"},f.title&&u.createElement(D.xu,null,f.title.text),f.subtitle&&u.createElement("div",{className:a((h=f.title.type,function(e){return{color:h===It.NJ.H3?e.baseColor.text.lighter:e.baseColor.text.normal}}))},f.subtitle.text))))))},tr=n(54260),nr=n(9471),rr=n(22091);function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.LEGACY=1]="LEGACY",e[e.STORY=2]="STORY",e[e.SIMPLE=3]="SIMPLE"}(Xn||(Xn={}));var ar=function(e,t){return{marginBottom:t?"0px":"24px",marginLeft:"12px",borderLeft:"3px solid ".concat(e.baseColor.border.lighter)}},lr=function(e,t){var n,r,o,i,a,l,s=null==t||null===(n=t.post)||void 0===n?void 0:n.threadedPostResponses,c=null==t?void 0:t.post,u=null==t||null===(r=t.post)||void 0===r?void 0:r.threadedPostResponses;if(!(c&&s&&s.posts&&u))return e;var d=(null==e||null===(o=e.post)||void 0===o||null===(i=o.threadedPostResponses)||void 0===i?void 0:i.posts)||[],p=(null==t||null===(a=t.post)||void 0===a||null===(l=a.threadedPostResponses)||void 0===l?void 0:l.posts)||[];return{post:ir(ir({},c),{},{threadedPostResponses:ir(ir({},u),{},{posts:[].concat(nt()(d),nt()(p))})})}},sr=function(e){var t,n,r,o=e.replies,i=e.parentPost,a=e.inResponseToPostId,l=e.threadDepthFromRootPost,s=e.threadDepthOnPage,c=void 0===s?1:s,d=e.displayBottomBorder,p=void 0!==d&&d,m=e.isShowAutoExpandedResponse,g=void 0!==m&&m,f=e.autoExpandedResponseIds,h=void 0===f?[]:f,E=(0,W.Av)(),v=(0,V.pK)(),y=u.useContext(kn.D),b=y.rootPostId,x=y.isResponsesSidebarVisible;return null!=o&&o.posts&&0!==(null==o||null===(t=o.posts)||void 0===t?void 0:t.length)?u.createElement(rr.xu,null,g?null==o||null===(n=o.posts)||void 0===n?void 0:n.map((function(e,t){if(!e)return null;var n=e.id!==h[h.length-1]||p;return h.some((function(t){return t===e.id}))?(x&&E.event("response.autoExpanded",{postId:e.id,parentPostId:a,rootPostId:b,threadDepth:l,context:Dn.r.INLINE_POST_RESPONSE,source:v}),u.createElement(cr,{reply:e,parentPost:i,bottomBorder:n,index:t,inResponseToPostId:a,key:e.id,threadDepthFromRootPost:l,threadDepthOnPage:c})):null})):null==o||null===(r=o.posts)||void 0===r?void 0:r.map((function(e,t,n){if(!e)return null;var r=t!==n.length-1||p;return u.createElement(cr,{reply:e,parentPost:i,bottomBorder:r,index:t,inResponseToPostId:a,key:e.id,threadDepthFromRootPost:l,threadDepthOnPage:c})}))):null},cr=function(e){var t,n,r,o,i,a,l=e.reply,c=e.parentPost,d=e.bottomBorder,p=e.index,m=e.inResponseToPostId,g=e.threadDepthOnPage,f=void 0===g?1:g,h=e.threadDepthFromRootPost,E=(0,bn.Iq)(),v=(0,bn.Fg)(),y=(0,V.pK)(),b=(0,W.Av)(),x=null!==(t=l.threadedPostResponses)&&void 0!==t&&t.autoExpandedPostIds?nt()(l.threadedPostResponses.autoExpandedPostIds):[],S=u.useState(Boolean(x.length)),P=s()(S,2),I=P[0],w=P[1],R=u.useContext(kn.D),O=R.responsesLocked,D=R.isLockedResponse,T=R.inResponseToQuote,k=R.setInResponseToQuote,_=R.setIsSavingResponse,A=R.sidebarRef,C=R.responseDistribution,L=R.setResponseDistribution,B=R.rootPostId,j=R.isResponsesSidebarVisible,N=u.useState([]),U=s()(N,2),M=U[0],H=U[1],z=u.useRef(null),G=null===(n=l.creator)||void 0===n?void 0:n.name;G&&(a="Replying to ".concat(G));var Q=(0,We.useLazyQuery)(In.A,{variables:{postId:l.id,postResponsesPaging:{limit:10}},ssr:!1}),Y=s()(Q,2),$=Y[0],K=Y[1],Z=K.called,q=K.data,X=K.loading,J=K.fetchMore;u.useEffect((function(){var e;null!=z&&null!==(e=z.current)&&void 0!==e&&e.getBoundingClientRect&&z.current.getBoundingClientRect().bottom>window.innerHeight&&z.current.scrollIntoView({behavior:"smooth",block:"end"})}),[]);var ee=null==q||null===(r=q.post)||void 0===r?void 0:r.threadedPostResponses;I&&!Z&&$();var te,ne=(null==ee?void 0:ee.posts)||[],re=(null===(o=l.postResponses)||void 0===o?void 0:o.count)||0,oe=function(e,t,n,r){var o=t.length,i=n.length;return o&&e?r-o:i?r-i:0}(I,x,ne,re),ie=oe>0,ae=null==ee||null===(i=ee.pagingInfo)||void 0===i?void 0:i.next;return ae&&(te=function(){J&&J({variables:{postId:l.id,postResponsesPaging:{limit:ae.limit,to:ae.to}},updateQuery:function(e,t){var n=t.fetchMoreResult;return lr(e,n)}})}),u.createElement(rr.Bn,{initialVisibility:I},(function(e){var t=e.isVisible,n=e.toggle,r=e.show;return u.createElement(rr.Bn,null,(function(e){var o,i=e.isVisible,s=e.hide,g=e.toggle;return u.createElement(rr.xu,{borderBottom:d?"BASE_LIGHTER":"NONE",margin:"0 24px"},u.createElement(tr.H.Provider,{value:{inResponseToPostId:m,isThreadedResponsesVisible:t,toggleThreadedResponses:function(){Z||($(),b.event("response.expanded",{postId:l.id,parentPostId:m,rootPostId:B,threadDepth:h,context:Dn.r.INLINE_POST_RESPONSE,source:y})),w(!1),n()},showThreadedResponses:function(){Z||($(),b.event("response.expanded",{postId:l.id,parentPostId:m,rootPostId:B,threadDepth:h,context:Dn.r.INLINE_POST_RESPONSE,source:y})),w(!1),r()},threadDepthFromRootPost:h,threadDepthOnPage:f,hideCreateReply:s,toggleCreateReply:g,loadThreadedResponses:$,isThreadedResponsesQueryCalled:Z,isThreadedResponsesQueryLoading:X}},u.createElement("div",{ref:0===p?z:void 0},function(e){switch(e.inResponseToType){case Xn.STORY:case Xn.LEGACY:return e.content.bodyModel.paragraphs.every((function(e){return e.type===It.NJ.P&&0===e.markups.length}));default:return!0}}(l)?u.createElement(Wn,{responsePost:l,index:p,parentPost:c,omitBottomBorder:!0}):u.createElement(V.cW,{source:{index:p},key:l.id,extendSource:!0},u.createElement(er,{storyResponse:l,parentPost:c,omitBottomBorder:!0}))),i&&u.createElement("div",{className:E(ar(v,t))},u.createElement(V.cW,{source:{susiEntry:"respond_sidebar"},extendSource:!0},u.createElement(On.z,null,u.createElement(nr.Z,{parentPostId:l.id,hideReplyEditing:s,placeholder:a,showEditorHeader:!1}))))),t&&u.createElement("div",{className:E(ar(v,ie))},X&&u.createElement(rr.xu,{marginLeft:"24px"},u.createElement(zn,null)),(null==ee?void 0:ee.posts)&&(null==ee||null===(o=ee.posts)||void 0===o?void 0:o.length)>0&&u.createElement(kn.D.Provider,{value:{setIsSavingResponse:_,responsesLocked:O,isLockedResponse:D,editingResponsesAtIndices:M,setEditingResponsesAtIndices:H,inResponseToQuote:T,setInResponseToQuote:k,sidebarRef:A,responseDistribution:C,setResponseDistribution:L,rootPostId:B,isResponsesSidebarVisible:j}},u.createElement(sr,{replies:ee,parentPost:c,inResponseToPostId:l.id,threadDepthOnPage:f+1,threadDepthFromRootPost:h+1,isShowAutoExpandedResponse:I,autoExpandedResponseIds:x}))),ie&&(t||I)&&u.createElement(rr.xu,{marginTop:"10px",marginLeft:"24px",marginBottom:"24px"},u.createElement(F.F,{color:"ACCENT",scale:"M"},u.createElement(rr.rU,{linkStyle:"OBVIOUS",onClick:function(){I?(w(!1),r()):te()}},function(e,t){return e?"Show ".concat(t," more ").concat(Rn()("reply",t)):"Load more replies (".concat(t,")")}(I,oe)))))}))}))},ur=n(33914);function dr(){return(dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pr=u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.99 5.04c.26-.21.64-.22.91-.01.97.72 1.77 1.21 2.6 1.54.83.32 1.72.48 2.89.5.41.01.74.35.74.76-.02 3.62-.43 6.26-1.45 8.21-1.03 1.98-2.66 3.21-4.97 4.08a.75.75 0 0 1-.53 0c-2.25-.87-3.86-2.1-4.9-4.07-1.02-1.95-1.46-4.59-1.48-8.22 0-.41.33-.75.75-.76 1.19-.02 2.1-.18 2.92-.5.82-.32 1.6-.81 2.52-1.53zm.46.9c-.9.69-1.71 1.21-2.62 1.56a8.9 8.9 0 0 1-3.02.57c.03 3.45.46 5.82 1.36 7.51.88 1.69 2.25 2.77 4.28 3.57 2.1-.8 3.47-1.89 4.34-3.57.89-1.7 1.3-4.07 1.34-7.51a8.8 8.8 0 0 1-3-.57 11.8 11.8 0 0 1-2.68-1.56zm0 9.15a2.67 2.67 0 1 0 0-5.34 2.67 2.67 0 0 0 0 5.34zm0 1a3.67 3.67 0 1 0 0-7.34 3.67 3.67 0 0 0 0 7.34zm-1.82-3.77l.53-.53.91.92 1.63-1.63.52.53-2.15 2.15-1.44-1.44z"});const mr=function(e){return u.createElement("svg",dr({width:25,height:25,viewBox:"0 0 25 25"},e),pr)};var gr=function(){var e=(0,bn.Iq)();return u.createElement(ur._,{tooltipText:"View community guidelines"},u.createElement(D.rU,{href:"https://policy.medium.com/medium-rules-30e5502c4eb4",target:"_blank",className:e((function(e){return{fill:e.baseColor.fill.light,":hover":{fill:e.baseColor.fill.dark}}}))},u.createElement(mr,null)))},fr=n(6688),hr=n(93394),Er=n(32262),vr=n(31078),yr={position:"absolute !important",right:"0",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"4px",zIndex:"1000",backgroundColor:"rgba(255, 255, 255, 1)",minWidth:"200px"},br=function(e){var t=e.parentPostId,n=e.responsesLocked,r=e.isPopoverMenuVisible,o=e.hidePopoverMenu,i=(0,fr.I)(),a=(0,Q.v)((function(e){return e.config.authDomain})),l=u.useRef(null);return u.useEffect((function(){var e=function(e){var t;null!=l&&null!==(t=l.current)&&void 0!==t&&t.contains(e.target)||o()};if(r)return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[r]),u.createElement("div",{className:i(yr),ref:l},u.createElement(Er.mX,null,u.createElement(Er.Sl,null,u.createElement(D.rU,{href:(0,$.t$b)(a,t)},"Manage responses")),u.createElement(vr.Eq,{parentPostId:t,responsesLocked:n,hidePopoverMenu:o})))},xr=function(e){return{cursor:"pointer",border:0,fill:e.baseColor.fill.light,":hover":{fill:e.baseColor.fill.dark},":focus":{outline:"none"}}},Sr=function(e){var t,n,r=e.parentPost,o=e.responsesLocked,i=(0,fr.I)(),a=(0,B.YC)().value,l="managementPopoverMenu",c=u.useState(!1),d=s()(c,2),p=d[0],m=d[1],g=(null==a?void 0:a.id)===(null===(t=r.creator)||void 0===t?void 0:t.id),f=null==r||null===(n=r.collection)||void 0===n?void 0:n.viewerIsEditor;return g||f?u.createElement(D.xu,null,u.createElement(D.rU,{ariaControls:l,ariaExpanded:p?"true":"false",onClick:function(e){e.nativeEvent.stopPropagation(),m(!p)},inline:!0,className:i(xr)},u.createElement(hr.Z,null)),p&&u.createElement("div",{id:l,className:i({position:"relative"})},u.createElement(V.cW,{source:{susiEntry:"respond_sidebar"},extendSource:!0},u.createElement(br,{parentPostId:r.id,responsesLocked:o,isPopoverMenuVisible:p,hidePopoverMenu:function(){return m(!1)}})))):null},Pr=n(3149),Ir={height:"80vh",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontStyle:"italic",fontWeight:200},wr=function(e){var t,n,r,o=e.responses,i=e.parentPost,a=e.responsesLocked,l=e.isLockedResponse,c=e.isLoadingInitialContent,d=e.isFetchingNextSetOfResponses,p=e.isResponsesSidebarVisible,m=e.setIsResponsesSidebarVisible,g=e.inResponseToQuote,f=e.setInResponseToQuote,h=e.sidebarRef,E=e.responseDistribution,v=e.setResponseDistribution,y=e.rootPostId,b=e.postDepth,x=(0,bn.Iq)(),S=(0,an.xg)(),P=u.useState(!1),I=s()(P,2),w=I[0],R=I[1],O=u.useState([]),T=s()(O,2),k=T[0],_=T[1],A=i.id,C=(null===(t=i.postResponses)||void 0===t?void 0:t.count)||0,L=0!==C?"(".concat(C,")"):"",B=o,j=null==o||null===(n=o.pagingInfo)||void 0===n?void 0:n.next,N=(null==o?void 0:o.posts)&&C&&o.posts.length<C,U=Boolean(d&&j&&N);return u.createElement(kn.D.Provider,{value:{setIsSavingResponse:R,responsesLocked:a,isLockedResponse:l,editingResponsesAtIndices:k,setEditingResponsesAtIndices:_,inResponseToQuote:g,setInResponseToQuote:f,sidebarRef:h,responseDistribution:E,setResponseDistribution:v,rootPostId:y,isResponsesSidebarVisible:p}},p&&w&&u.createElement(D.TF,{horizontalOverride:{left:"calc(100vw - ".concat(Dr,")")}}),u.createElement(D.xu,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"24px",paddingBottom:"18px"},u.createElement(F.X6,{scale:"S"},"Responses ",L),u.createElement(D.xu,{display:"flex",flexDirection:"row"},u.createElement(gr,null),u.createElement(Sr,{parentPost:i,responsesLocked:a}),u.createElement(D.xu,{position:"relative",right:"-7px"},u.createElement(Pr.Z,{onClick:function(){v(It.Et.NOT_DISTRIBUTED),m(!1)},size:"REGULAR",isPositionAbsolute:!1})))),c?u.createElement(D.xu,{padding:"0 24px"},u.createElement(zn,null)):u.createElement(u.Fragment,null,!S||p?u.createElement(Hn,{parentPostId:A}):null,o&&0!==(null==B||null===(r=B.posts)||void 0===r?void 0:r.length)?u.createElement(D.xu,null,u.createElement(sr,{replies:o,inResponseToPostId:i.id,parentPost:i,displayBottomBorder:U,threadDepthFromRootPost:b+1}),U&&u.createElement(D.xu,{margin:"0 24px"},u.createElement(zn,null))):u.createElement("div",{className:x(Ir)},u.createElement(F.F,{scale:"L",color:"LIGHTER"},"There are currently no responses for this story."),u.createElement(F.F,{scale:"L",color:"LIGHTER"},"Be the first to respond."))))},Rr=n(80637),Or=function(){return{top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,transition:"opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s",pointerEvents:"none"}},Dr="414px",Tr=function(e){return function(t){var n=g()({width:Dr,position:"fixed",zIndex:520,backgroundColor:"white",left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:"translateX(0px)",transition:"transform 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"},(0,Rr.sm)(t),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:"translateY(100%)","-webkit-overflow-scrolling":"touch"});return e||(n.visibility="hidden"),n}},kr=function(e,t){return function(n){if(e){var r=n.breakpoints.md-.02;return t<=r?{transform:"translateY(30px) !important"}:{transform:"translateX(-415px)"}}return{}}},_r=function(e){return e?{opacity:1,pointerEvents:"all"}:{}},Ar=function(e){var t,n,r,o,i,a,l,c,d,p=e.setIsResponsesSidebarVisible,m=e.isResponsesSidebarVisible,g=e.inResponseToQuote,f=e.setInResponseToQuote,h=e.parentPost,E=(0,bn.Iq)(),v=(0,an.xg)(),y=u.useRef(null),b=(0,We.useLazyQuery)(In.A,{variables:{postId:h.id,postResponsesPaging:{limit:10}},ssr:!1}),x=s()(b,2),S=x[0],P=x[1],I=P.called,w=P.loading,R=P.data,O=P.fetchMore;I||v&&!m||S();var T,k=null==R||null===(t=R.post)||void 0===t?void 0:t.responsesLocked,_=null==R||null===(n=R.post)||void 0===n?void 0:n.isLockedResponse,A=null==R||null===(r=R.post)||void 0===r?void 0:r.threadedPostResponses,C=(null==R||null===(o=R.post)||void 0===o||null===(i=o.responseRootPost)||void 0===i||null===(a=i.post)||void 0===a?void 0:a.id)||"",L=(null==R||null===(l=R.post)||void 0===l||null===(c=l.responseRootPost)||void 0===c?void 0:c.responseDepth)||0,B=u.useState(0),N=s()(B,2),U=N[0],M=N[1],F=u.useState(!1),H=s()(F,2),W=H[0],z=H[1],G=u.useState(It.Et.NOT_DISTRIBUTED),Q=s()(G,2),Y=Q[0],$=Q[1];u.useEffect((function(){U||M(window.innerWidth)}),[]);var K=null==A||null===(d=A.pagingInfo)||void 0===d?void 0:d.next;return K&&(T=function(){O&&O({variables:{postId:h.id,postResponsesPaging:{limit:K.limit,to:K.to}},updateQuery:function(e,t){var n=t.fetchMoreResult;return z(!1),lr(e,n)}})}),u.createElement(j.N8,null,u.createElement(V.cW,{source:{name:"responses",postId:h.id},extendSource:!0},u.createElement(D.xu,{print:{display:"none"}},u.createElement("div",{className:E([Or,_r(m)]),onClick:function(){p(!1),$(It.Et.NOT_DISTRIBUTED)},"aria-hidden":!m}),u.createElement("div",{className:E([Tr(m),kr(m,U)]),"aria-hidden":!m,onScroll:function(e){return Cr(e,K,W,z,T)},ref:y},u.createElement(wr,{responses:A,parentPost:h,responsesLocked:k,isLockedResponse:_,isLoadingInitialContent:w,isFetchingNextSetOfResponses:W,isResponsesSidebarVisible:m,setIsResponsesSidebarVisible:p,inResponseToQuote:g,setInResponseToQuote:f,sidebarRef:y,responseDistribution:Y,setResponseDistribution:$,rootPostId:C,postDepth:L})))))},Cr=function(e,t,n,r,o){e.preventDefault();var i=e.currentTarget;i.scrollHeight-i.scrollTop-i.clientHeight<1.5*i.clientHeight&&t&&!n&&(r(!0),o())},Lr=function(e){var t=e.children,n=e.post,r=(0,Ee.dF)(),o=u.useState(!1),i=s()(o,2),a=i[0],l=i[1],c=u.useState(void 0),d=s()(c,2),p=d[0],m=d[1],g=u.useState(!1),f=s()(g,2),h=f[0],E=f[1];return u.useEffect((function(){E(!0),l(r)}),[r]),u.createElement(Pn.f.Provider,{value:{openSidebarToRespondToHighlight:function(e){m(e),l(!0)}}},h&&u.createElement(Ar,{isResponsesSidebarVisible:a,setIsResponsesSidebarVisible:l,parentPost:n,inResponseToQuote:p,setInResponseToQuote:m}),t({show:function(){return l(!0)}}))},Br=n(53976);function jr(){return(jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Nr=u.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),Ur=u.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),Mr=u.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),Fr=u.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"});const Hr=function(e){return u.createElement("svg",jr({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),Nr,Ur,Mr,Fr)};var Wr=(0,d.$j)()((function(e){var t=e.dispatch,n=e.isVisible,r=e.hide,o="limitedStateInterstitialDialogPopover";return u.createElement(D.Vq,{isVisible:n,hide:r,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},u.createElement(D.xu,{display:"flex",justifyContent:"center",paddingTop:"100px"},u.createElement(D.xu,{height:"550px",width:"900px",background:T.ix,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,T.Uy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},u.createElement(D.xu,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},u.createElement(D.xu,{paddingBottom:"24px"},u.createElement(Hr,null)),u.createElement(D.xu,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},u.createElement(F.X6,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),u.createElement(D.xu,{padding:"0 0 24px 0"},u.createElement(D.zx,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){r(),t((0,G.Dx)({duration:"FOREVER",message:"",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),u.createElement(D.Bn,null,(function(e){var t=e.isVisible,n=e.toggle,r=e.hide;return u.createElement(D.J2,{ariaId:o,isVisible:t,hide:r,display:"block",customZIndex:800,popoverRenderFn:function(){return u.createElement(D.xu,{padding:"15px 20px",width:"400px"},u.createElement(F.F,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},u.createElement(D.xu,{paddingTop:"10px"},u.createElement(D.rU,{ariaControls:o,ariaExpanded:t?"true":"false",onClick:n},u.createElement("u",null,u.createElement(F.F,{scale:"S"},"Why am I seeing this?")))))})))),u.createElement(D.xu,{display:"flex",justifyContent:"center"},u.createElement(F.F,{scale:"M"},"View our"," ",u.createElement(D.rU,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",u.createElement(D.rU,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",u.createElement(D.rU,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))}));function Vr(){var e=o()(["\n  fragment LimitedStateInterstitial_post on Post {\n    creator {\n      id\n    }\n    isLimitedState\n  }\n"]);return Vr=function(){return e},e}var zr=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function Gr(e){var t=e.post,n=t.creator,r=t.isLimitedState,o=e.viewerId,i=e.children,a=(0,bn.Iq)(),l=u.useState(!1),c=s()(l,2),d=c[0],p=c[1];return u.useEffect((function(){p(!0)}),[]),r&&(n&&n.id)!==o?u.createElement(D.Bn,{initialVisibility:!0},(function(e){var t=e.isVisible,n=e.hide;return u.createElement(u.Fragment,null,u.createElement("div",{className:a(zr(t))},i),d&&u.createElement(Wr,{isVisible:t,hide:n}))})):i}var Qr=(0,c.Ps)(Vr()),Yr=n(85714),$r=function(e){var t=e.children,n=e.onClose,r=u.useRef(null),o=u.useContext(p.u6).updateWatchedBounds;return u.createElement(D.Bn,{initialVisibility:!0},(function(e){var i=e.isVisible,a=e.hide;return i&&u.createElement(D.xu,{backgroundColor:"BASE_LIGHT",borderBottom:"BASE_LIGHTER",borderTop:"BASE_LIGHTER"},u.createElement(D.Pm,null,u.createElement(D.xu,{display:"flex",justifyContent:"space-between",paddingBottom:"20px",paddingTop:"20px"},t,u.createElement(D.PZ,{onClick:function(){n&&n(),o("byline",r,{type:"header"}),a()},isPositionAbsolute:!1,size:"REGULAR"}))))}))},Kr=n(81591),Zr=n(69332),qr="alternate_user_top_banner",Xr=function(e){var t=e.userSocialLogins,n=(0,Ce.j)().openModal;return t.facebook||t.google||t.twitter?u.createElement(de,{userSocialLogins:t}):u.createElement(ae,{onSuccess:function(){return n({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:qr})},userId:t.userId},(function(e){var t=e.handleSubmit;return u.createElement(D.zx,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))},Jr=function(){var e=(0,B.YC)().value,t=(0,B.rZ)().viewerId,n=(0,d.I0)(),r=(0,W.Av)(),o=u.useState(!1),i=s()(o,2),a=i[0],l=i[1],c=u.useState("loading"),p=s()(c,2),m=p[0],g=p[1];return u.useEffect((function(){n((0,Zr.e6)(!0)),l(!0)}),[]),u.useEffect((function(){"rendered"===m&&n((0,Kr.T)(!0)),"not_eligible"===m&&n((0,Zr.e6)(!1))}),[m]),u.createElement(V.cW,{source:{susiEntry:qr}},u.createElement(xe,{postRenderCallback:function(e,n,o){g(n?"rendered":"not_eligible"),n&&(r.event("experiment.eligible",{experimentId:"358323e239a2"}),r.event("alternateUserBanner.viewed",{alternateUserSuggestionAccountType:he(o),alternateUserSuggestionTargetUserId:o.userId,alternateUserSuggestionSourceUserId:t}))}},(function(n){var o,i=n.showSuggestedAccount,l=n.declineSuggestedAccount,s=n.userSocialLogins;return a&&i&&l&&s?u.createElement(j.N8,null,u.createElement($r,{onClose:function(){return r.event("alternateUserBanner.dismissed",{alternateUserSuggestionAccountType:he(s),alternateUserSuggestionTargetUserId:s.userId,alternateUserSuggestionSourceUserId:t})}},u.createElement(D.xu,{alignItems:"flex-start",display:"flex",flexDirection:"column",sm:{alignItems:"center"}},u.createElement(D.xu,{alignItems:"center",display:"flex",marginBottom:"21px",sm:{flexDirection:"column",margin:"0 21px 21px",textAlign:"center"}},!e&&(null===(o=s.userAvatar)||void 0===o?void 0:o.imageId)&&u.createElement(D.xu,{display:"flex",marginRight:"20px",sm:{marginBottom:"18px",marginRight:"0"}},u.createElement(M.ZP,{scale:"S",user:s.userAvatar})),u.createElement(_.W,{featureString:"alternate-user-top-banner",target:"header"},u.createElement(F.F,{color:"DARKER",scale:"M"},function(e,t){var n=t.isMember,r=t.redactedEmailAddress;return u.createElement(u.Fragment,null,e?"Switch":"Sign in"," to your ",n?"member ":"","account (",u.createElement("b",null,r),") for",n?" unlimited access":" your personalized experience",".")}(e,s)))),u.createElement(D.xu,{alignItems:"center",display:"flex",sm:{flexDirection:"column"}},u.createElement(Xr,{userSocialLogins:s}),u.createElement(D.xu,{margin:"0 12px",sm:{margin:"24px 0 0"}},u.createElement(me,{declineSuggestedAccount:l,isSocial:!!(s.facebook||s.google||s.twitter)})))))):u.createElement(u.Fragment,null)})))},eo=n(87757),to=n.n(eo),no=n(48926),ro=n.n(no),oo=n(6522),io="signin_confirmation_banner",ao=function(){var e=(0,W.Av)(),t=(0,Ce.j)().openModal,n=u.useState(!1),r=s()(n,2),o=r[0],i=r[1],a=u.useState(!1),l=s()(a,2),c=l[0],d=l[1],p=u.useState(!0),m=s()(p,2),g=m[0],f=m[1],h=(0,B.YC)().value,E=(0,Q.v)((function(e){return e.session.xsrf})),v=(0,Ee.PM)(),y=(0,ge.P7)(v||"").name;return u.useEffect((function(){return i(!0)}),[]),u.useEffect((function(){o&&h&&(e.event("experiment.eligible",{experimentId:"b4152480e71c"}),function(){var e=ro()(to().mark((function e(){var t;return to().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,re.vA)(null==h?void 0:h.id,E);case 2:t=e.sent,f(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),(0,re.oy)(h.id,E))}),[o]),u.useEffect((function(){c&&e.event("signInConfirmationBanner.viewed",{})}),[c]),!o||!h||!y||"login"!==y||!h.createdAt||Date.now()-h.createdAt<=5*oo.uD||g?null:(c||d(!0),u.createElement(V.cW,{source:{susiEntry:io},extendSource:!0},u.createElement(j.N8,null,u.createElement($r,{onClose:function(){return e.event("signInConfirmationBanner.dismissed",{})}},u.createElement(D.xu,{display:"flex",alignItems:"center"},u.createElement(D.xu,{display:"none",marginRight:"20px",sm:{display:"flex"}},u.createElement(M.ZP,{scale:"S",user:h})),u.createElement(F.F,{color:"DARKER",scale:"M"},u.createElement(_.W,{featureString:"confirm-sign-in-banner",target:"header",tag:"span"},"Welcome back. You are signed"," ",h.mediumMemberAt?"into your member account ":"in as ",u.createElement("b",null,h.email),"."," "),u.createElement(D.rU,{onClick:function(){e.event("signInConfirmationBanner.notYouClicked",{}),t({operation:"login",step:"SIGNIN_OPTIONS",susiEntry:io})},linkStyle:"OBVIOUS"},"Not you?")))))))},lo=n(93874),so=n(31517),co=n(172);function uo(e){var t={__html:'<script type="application/json">'.concat(h()(e.json,{isJSON:!0}),"<\/script>")};return u.createElement("amp-analytics",{id:"medium-analytics",dangerouslySetInnerHTML:t})}function po(){var e={__html:'<script type="application/json">'.concat(h()({vars:{apikey:"medium.com"}},{isJSON:!0}),"<\/script>")};return u.createElement("amp-analytics",{type:"parsely",id:"parsely-amp-analytics",dangerouslySetInnerHTML:e})}var mo=n(30389),go=n(27140),fo=n(65441);function ho(){var e=o()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      domain\n      googleAnalyticsId\n      slug\n      ...CollectionMetabar_collection\n      ...MetaHeader_publisher\n      ...auroraHooks_publisher\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n      isCacheableContent\n    }\n    creator {\n      isFollowing\n      viewerIsUser\n      ...SuspendedBannerLoader_user\n      ...MetaHeader_publisher\n      ...UserSubdomainFlow_user\n      ...auroraHooks_publisher\n      ...TruncatedPostCard_user\n    }\n    customStyleSheet {\n      id\n      postBody {\n        ...SupportedContainerStyles_styleNode\n      }\n      ...CustomBackgroundWrapper_customStyleSheet\n      ...MetaHeader_customStyleSheet\n      ...PostSidebarWithBlogrolls_customStyleSheet\n    }\n    firstPublishedAt\n    isLocked\n    isPublished\n    isShortform\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    isMarkedPaywallOnly\n    readCreatorPostsCount\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...PayWall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostScreenThemeProvider_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...PostSidebarWithBlogrolls_post\n    ...RegWall_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...optimizelyData_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ho=function(){return e},e}function Eo(){var e=o()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...PostHeader_meteringInfo\n    ...RegWall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n  ","\n"]);return Eo=function(){return e},e}var vo=function(){return null};function yo(e){var t,n,r,o,i=e.meteringInfo,a=e.post,l=a.id,c=a.isPublished,m=a.isLocked,g=a.isShortform,f=a.content,h=a.collection,E=a.canonicalUrl,v=a.isMarkedPaywallOnly,P=(0,d.I0)(),I=(0,W.Av)(),R=(0,Ee.PM)(),O=(0,Br.V)({name:"enable_blogrolls",placeholder:!1}),D=(0,Q.v)((function(e){return e.config.authDomain})),T=(0,Q.v)((function(e){return e.navigation.currentHash})),_=(0,Q.v)((function(e){return e.config.isAmp})),A=(0,Q.v)((function(e){return e.navigation.postPublishedType})),L=(0,Q.v)((function(e){return e.navigation.referrer})),j=(0,mo.P)(),N=j.inAppBrowser,U=j.loading,M=u.useState(!1),F=s()(M,2),H=F[0],V=F[1],z=u.useState(a.readingList===It.sx.READING_LIST_QUEUE||a.readingList===It.sx.READING_LIST_ARCHIVE),Y=s()(z,2),K=Y[0],Z=Y[1],q=u.useRef(null),ee=(0,B.YC)().value;_&&(ee=void 0);var te=!!ee,ne=h||{},oe=ne.id,ie=ne.slug,ae=ne.googleAnalyticsId,le=f||{},se=le.isLockedPreviewOnly,ce=le.validatedShareKey,ue=le.isCacheableContent,de=ae?[ae]:null;(0,b.t)({ids:de,isAmp:_}),(0,Pt.Vj)(q,a),(0,Pt.t2)(te,q,a),function(e){var t=(0,B.YC)().value,n=(0,We.useMutation)(Qe,{variables:{postId:e.id}}),r=s()(n,2),o=r[0],i=r[1].called;u.useEffect((function(){e.isPublished||null==t||!t.id||i||o()}),[t])}(a);var pe=(0,Nt.GT)(h||a.creator),me=g&&pe,he=(0,go.D)(pe),ve=(0,ge.P7)(R||"").dimension,ye=!("digest.reader"!==(void 0===ve?"":ve))&&!se&&te&&!(null!==(t=a.creator)&&void 0!==t&&t.viewerIsUser)&&!(null!==(n=a.creator)&&void 0!==n&&n.isFollowing)&&(a.readCreatorPostsCount||0)>=3,be=u.useState(ye),xe=s()(be,2),Se=xe[0],Pe=xe[1];u.useEffect((function(){Pe(ye)}),[]);var Ie=(0,Xe.Dj)(a,Se),we=(0,B.rZ)(),Re=we.loading,Oe=we.viewerId;u.useEffect((function(){if(!Re&&Oe&&!U){if(c){te||(a.isLocked?(0,re.yB)():(0,re.B8)());var e=(0,S.RD)({inAppBrowser:N,post:a,meteringInfo:i,referrer:L,referrerSource:R,viewer:ee,currentUserId:Oe});h&&h.domain&&(e.data.$canonical_url=(0,$.o2w)(D,a.id));var t=ee&&ee.name?fe(ee.name):void 0;(0,Ye.KQ)({post:a},t),(0,S.Pu)(e),P((0,co.aj)(e)),P((0,co.QZ)()),I.event("post.clientViewed",{postId:l,collectionId:oe,collectionSlug:ie,context:1,isFriendLink:!!ce})}else I.event("post.draftViewed",{postId:l});switch(te||(0,hn.kD)(l),A){case"initial":V(!0),P((0,G.DJ)());break;case"repub":P((0,G.Dx)({duration:3e3,message:"Your changes have been published."})),P((0,G.DJ)())}return function(){P((0,co.Uo)())}}}),[l,c,Re,Oe,U,N,ee]);var De=(0,Ee.gr)();u.useEffect((function(){var e;if(De){var t=document.getElementById(fo.W);if(t){var n=window.matchMedia&&(null===(e=window.matchMedia("(prefers-reduced-motion: reduce)"))||void 0===e?void 0:e.matches);setTimeout((function(){var e=Math.max(t.offsetTop-window.innerHeight/2,0);window.scrollY<=e&&window.scrollTo({top:e,behavior:n?void 0:"smooth"})}))}}}),[De]),he!==pe&&P((0,so.t)(pe));var ke,_e,Ae=(0,C.$)("entity_driven_subscription_milestone_2",null==a?void 0:a.creator),Ce=se&&(ue?u.createElement(k,null):(v||m)&&Ae?u.createElement(X,{post:a}):te?u.createElement(Te,{post:a}):u.createElement(Me,{post:a,meteringInfo:i})),Le=m?{className:"meteredContent"}:{};if(T){var Be=T.split("-");ke=Be[0],_e=Be[1]}return u.createElement(u.Fragment,null,u.createElement(x.u,null),u.createElement(qe,{post:a},u.createElement(bt,{isAmp:_,post:a}),(null===(r=ee)||void 0===r?void 0:r.id)===(null===(o=a.creator)||void 0===o?void 0:o.id)?u.createElement(Yr.ZP,{post:a,user:a.creator}):u.createElement(J.bZ,{name:"can_view_suspended_content",placeholder:vo},(function(e){return e?u.createElement(Yr.ZP,{post:a,user:a.creator}):null})),u.createElement(Ht,{post:a},u.createElement(yn.f,{customStyleSheet:a.customStyleSheet},u.createElement(bo,{post:a}),u.createElement(Lr,{post:a},(function(e){var t,n,r=e.show;return u.createElement(xn,{rule:(n=a.customStyleSheet,(0,Sn.fl)(null==n?void 0:n.postBody))},u.createElement(p.Am,null,u.createElement(gn.Q.Provider,{value:{isFirstLoadAndInReadingList:K,setIsFirstLoadAndInReadingList:Z}},u.createElement(Jr,null),u.createElement(ao,null),u.createElement("article",Le,u.createElement(Je.mV,{post:a,meteringInfo:i,showMixtape:!1}),u.createElement(Gr,{post:a,viewerId:null===(t=ee)||void 0===t?void 0:t.id},u.createElement(mn,{activeGrafId:ke,activeNoteId:_e,isAuroraPostPageEnabled:pe,post:a,postBodyInserts:Ie,ref:q}))),!se&&!!c&&!me&&(O?u.createElement(zt.HB,{customStyleSheet:a.customStyleSheet,showResponsesSidebar:r,post:a,extraWide:!0}):u.createElement(Vt.p3,{post:a,showResponsesSidebar:r})),Ce,!se&&u.createElement(fn.ZP,{post:a,showResponsesSidebar:r,showMixtape:!0}))))})),u.createElement(Bt,{hide:function(){return V(!1)},isVisible:H,post:a}),!!c&&u.createElement(w.T,{slimFooter:pe}))),_&&u.createElement(u.Fragment,null,u.createElement(uo,{json:{requests:{base:(0,$.vuB)(D),pageview:(0,$.CXS)(),scrollPing:(0,$.y4K)()},vars:{postId:l,collectionId:oe,canonicalUrl:E,referrer:L},triggers:{defaultPageview:{on:"visible",request:"pageview"},scrollDepths:{on:"scroll",scrollSpec:{verticalBoundaries:[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]},request:"scrollPing"}},transport:{beacon:!1,xhrpost:!1,image:!0}}}),u.createElement(y,{collectionGoogleAnalyticsId:ae}),u.createElement(po,null))),!!a.creator&&!a.collection&&u.createElement(lo.h,{user:a.creator,refreshOnComplete:!0}))}var bo=function(e){var t,n,r=e.post,o=r.collection,i=r.content,l=o||r.creator,s=(0,Nt.GT)(l),c=(0,Q.v)((function(e){return e.config.isAmp})),d=i.bodyModel&&i.bodyModel.paragraphs[0],p=d&&d.type===It.NJ.IMG&&d.layout===It.ms.FULL_WIDTH;if(l&&s)return u.createElement(rr.xu,{marginBottom:p?"0":"36px",sm:{marginBottom:p?"0":"20px"}},u.createElement(En.Go,{publisher:l,customStyleSheet:r.customStyleSheet,post:r,forceSmall:!0}),u.createElement(vn.z,{headerScale:null===(t=r.customStyleSheet)||void 0===t||null===(n=t.header)||void 0===n?void 0:n.headerScale,post:r,publisher:l}));var m={behavior:O.W.Aggressive,isAmp:c,isFixed:!1,post:r};if(o)return u.createElement(P.NL,a()({},m,{collection:o}));var g=r.layerCake,f=r.primaryTopic,h=g&&(1===g||2===g||3===g),E=h?f:null;return u.createElement(R.kw,a()({},m,{isMonogramOnly:!h,marginBottom:0,marginBottomSm:0,topic:E}))},xo=(0,c.Ps)(Eo(),Je.Xc,He,S.PI),So=(0,c.Ps)(ho(),Ge,P.JE,yn.w,dn,Qr,Ze,R.v7,En.aU,En.Mv,zt.bj,ke,Xe.Cs,fn.F9,Je.Z3,xt,jt,Pt.WZ,Wt,Pt.kH,Vt.uI,zt.Pq,Fe,Sn._3,Yr.QX,Yr.v,lo.k,Nt.C5,S.ir,Ye.ne,Gt.tA,I.Dc)}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/1297.d4675d75.chunk.js.map